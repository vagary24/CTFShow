(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1474:function(t,e,a){},1475:function(t,e,a){"use strict";a.d(e,"l",(function(){return i})),a.d(e,"n",(function(){return s})),a.d(e,"k",(function(){return r})),a.d(e,"m",(function(){return o})),a.d(e,"x",(function(){return c})),a.d(e,"y",(function(){return l})),a.d(e,"A",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"v",(function(){return p})),a.d(e,"s",(function(){return m})),a.d(e,"j",(function(){return v})),a.d(e,"z",(function(){return f})),a.d(e,"b",(function(){return h})),a.d(e,"i",(function(){return _})),a.d(e,"e",(function(){return g})),a.d(e,"c",(function(){return b})),a.d(e,"w",(function(){return w})),a.d(e,"t",(function(){return y})),a.d(e,"a",(function(){return C})),a.d(e,"r",(function(){return k})),a.d(e,"q",(function(){return D})),a.d(e,"d",(function(){return x})),a.d(e,"p",(function(){return j})),a.d(e,"o",(function(){return I})),a.d(e,"f",(function(){return P})),a.d(e,"B",(function(){return T})),a.d(e,"h",(function(){return $})),a.d(e,"u",(function(){return O}));var n=a(10),i=function(t){return n.a.get("/frontend/post/detail",{params:t,cache:!0})},s=function(t){return n.a.get("/frontend/post/info",{params:t,cache:!0})},r=function(t){return n.a.get("/frontend/post/ad",{params:t,cache:!0})},o=function(t){return n.a.get("/frontend/post/comments",{params:t})},c=function(t){return n.a.post("/frontend/post/like",t)},l=function(t){return n.a.post("/frontend/comment/like",t)},u=function(t){return n.a.post("/frontend/post/discuss",t)},d=function(t){return n.a.post("/frontend/report",t)},p=function(t){return n.a.post("/frontend/resume",t)},m=function(t){return n.a.get("/frontend/post/recommend",{params:t})},v=function(t){return n.a.post("/frontend/user/follow",t)},f=function(t){return n.a.post("/frontend/reward/order",t)},h=function(t){return n.a.get("/frontend/reward/status",{params:t})},_=function(t){return n.a.post("/frontend/post/favorite",t)},g=function(t){return n.a.get("/frontend/column/columnList",{params:t})},b=function(t){return n.a.post("/frontend/column/collect",t)},w=function(t){return n.a.post("/frontend/column/submit",t)},y=function(t){return n.a.post("/frontend/column/remove",t)},C=function(t){return n.a.post("/frontend/column/cancel",t)},k=function(t){return n.a.get("/frontend/column/postIncludeColumn",{params:t})},D=function(t){return n.a.get("/frontend/column/postAdminColumn",{params:t})},x=function(t){return n.a.post("/frontend/column/like",t)},j=function(t){return n.a.post("/frontend/readOrder/create",t)},I=function(t){return n.a.get("/frontend/readOrder/detail",{params:t})},P=function(t){return n.a.post("/frontend/post/delComment",t)},T=function(t){return n.a.get("/wiki/post/search",{params:t})},$=function(t){return n.a.get("/frontend/post/page",{params:t})},O=function(t){return n.a.get("/frontend/post/safeDetail",{params:t})}},1480:function(t,e,a){"use strict";var n={props:{datas:{type:Object,value:{}},bordertop:{type:Boolean,value:!1},source:{type:String,default:"index"},types:{type:String,value:""}},data:function(){return{host_name:"https://www.freebuf.com"}},computed:{userInfoData:function(){return this.$store.state.userInfo.userInfo}},methods:{viewVipPage:function(){window.open("/member")},advertisingClick:function(){"ad"===this.types&&window._hmt.push(["_trackEvent","ad-list","click","广告列表",3])}}},i=(a(1481),a(12)),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.datas?n("div",{staticClass:"article-item",style:{borderTop:t.bordertop?"none":""},on:{click:t.advertisingClick}},["index"===t.source?[t._t("default"),t._v(" "),n("div",{staticClass:"title-view"},[n("div",{staticClass:"title-left"},[n("a",{attrs:{href:t.datas.url,target:"_blank"}},[n("span",{staticClass:"title text-line-1",style:{color:t.datas.color_tip?"#f02424":""}},[t._v("\n            "+t._s(t.datas.post_title))])]),t._v(" "),[n("a",{attrs:{href:t.globalConfig.jobSite,target:"_blank"}},[t.datas.is_job?n("a-tag",{staticClass:"tag-view tag-view-color"},[t._v("\n              招聘\n            ")]):t._e()],1),t._v(" "),n("a",{attrs:{href:t.host_name+"/fevents/273278.html",target:"_blank"}},[t.datas.is_jb&&!t.datas.is_original?n("a-tag",{staticClass:"tag-view",attrs:{color:"orange"}},[t._v("\n              金币\n            ")]):t._e()],1),t._v(" "),n("a",{attrs:{href:t.host_name+"/articles/273280.html",target:"_blank"}},[t.datas.is_original?n("a-tag",{staticClass:"tag-view",attrs:{color:"orange"}},[t._v("\n              原创\n            ")]):t._e()],1),t._v(" "),t.datas.paid_read?n("a",{attrs:{href:"/member",target:"_blank"}},[n("div",{staticClass:"pay-bill"},[t._v("\n              付费\n            ")])]):t._e(),t._v(" "),t.datas.paid_read?n("a",{attrs:{href:"/member",target:"_blank",id:"isvip-text"}},[n("img",{attrs:{src:a(668)}})]):t._e()]],2),t._v(" "),"ad"===t.types?n("a-popover",{attrs:{trigger:"click",placement:"bottom"}},[n("a",{staticClass:"ad-tf",attrs:{slot:"content",href:t.host_name+"/news/topnews/242035.html",target:"_blank"},slot:"content"},[t._v("投放广告")]),t._v(" "),n("span",{staticClass:"ad-view"},[t._v("\n          广告\n          "),n("a-icon",{staticStyle:{"margin-left":"7px","font-size":"12px"},attrs:{type:"down"}})],1)]):t._e()],1),t._v(" "),n("div",{staticClass:"item-content"},[t.datas.post_image?n("a",{staticClass:"img-view",attrs:{href:t.datas.url,target:"_blank"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.datas.post_image,expression:"datas.post_image"}],staticStyle:{color:"#fff"},attrs:{alt:t.datas.post_title}}),t._v(" "),t.datas.category?n("p",[n("a-tag",{staticStyle:{opacity:".7","font-size":"12px","border-radius":"0"},attrs:{color:"#262626"}},[t._v("\n            "+t._s("ad"===t.types?t.datas.desc:t.datas.category)+"\n          ")])],1):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"item-right"},[t.datas.post_image?n("a",{staticClass:"text text-line-2",attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n          "+t._s("ad"===t.types?t.datas.desc.length>70?t.datas.desc.substr(0,70)+"...":t.datas.desc:t.datas.content.length>70?t.datas.content.substr(0,70)+"...":t.datas.content)+"\n        ")]):n("a",{staticClass:"text text-line-2",attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n          "+t._s("ad"===t.types?t.datas.desc.length>80?t.datas.desc.substr(0,80)+"...":t.datas.desc:t.datas.content.length>80?t.datas.content.substr(0,80)+"...":t.datas.content)+"\n        ")]),t._v(" "),n("div",{staticClass:"item-bottom"},["ad"===t.types?[n("p",[n("a",{attrs:{href:""+t.host_name+t.datas.url,target:"_blank"}},[n("span",{staticStyle:{color:"#8C8C8C"}},[t._v(t._s(t.datas.ad_title))])])])]:[n("p",[n("a",{attrs:{href:t.host_name+"/author/"+t.datas.username,target:"_blank"}},[n("a-avatar",{attrs:{size:20,src:t.datas.user_img}}),t._v(" "),n("span",{staticStyle:{"max-width":"115px","margin-left":"12px",color:"#8C8C8C","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v(t._s(t.datas.nickname))]),t._v(" "),t.datas.vip?n("span",{staticClass:"is-vip",on:{click:function(e){return e.stopPropagation(),t.viewVipPage(e)}}},[n("img",{attrs:{src:a(668)}})]):t._e()],1)]),t._v(" "),n("p",{staticClass:"bottom-right"},[n("a",{attrs:{href:t.datas.url,target:"_blank"}},[n("span",[t._v(t._s(t.datas.read_count))]),t._v("围观")]),t._v(" "),t.datas.favorite?n("a",{attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n                 · "),n("span",[t._v(t._s(t.datas.favorite))]),t._v("收藏\n              ")]):t._e(),t._v(" "),t.datas.like?n("a",{attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n                 · "),n("span",[t._v(t._s(t.datas.like))]),t._v("喜欢\n              ")]):t._e(),t._v(" "),n("span",{staticStyle:{"margin-left":"30px","margin-right":"4px"}},[t._v(t._s(t.datas.post_date?t.datas.post_date.slice(0,10):""))])])]],2)])])]:t._e(),t._v(" "),"home"===t.source?[n("div",{staticClass:"item-for-home"},[n("a",{staticClass:"item-home-img",attrs:{href:t.datas.url,target:"_blank"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.datas.post_image,expression:"datas.post_image"}],attrs:{alt:t.datas.post_title}}),t._v(" "),t.datas.category?n("p",[n("a-tag",[t._v("\n            "+t._s("ad"===t.types?t.datas.desc:t.datas.category)+"\n          ")])],1):t._e()]),t._v(" "),n("div",{staticClass:"item-home-content"},[n("div",{staticClass:"item-top"},[n("a",{staticClass:"item-title",style:{color:t.datas.color_tip?"#f02424":""},attrs:{href:t.datas.url,target:"_blank"}},[t._v(t._s(t.datas.post_title))]),t._v(" "),n("p",[n("a",{attrs:{href:t.host_name+"/author/"+t.datas.username,target:"_blank"}},[n("a-avatar",{attrs:{size:20,src:t.datas.user_img}}),t._v(" "),n("span",{staticStyle:{"max-width":"115px","margin-left":"12px",color:"#8C8C8C","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v(t._s(t.datas.nickname))]),t._v(" "),t.datas.vip?n("span",{staticClass:"is-vip",on:{click:function(e){return e.stopPropagation(),t.viewVipPage(e)}}},[n("img",{attrs:{src:a(668)}})]):t._e()],1),t._v(" "),n("span",{staticClass:"date"},[n("a-icon",{attrs:{type:"clock-circle"}}),t._v(t._s(t.datas.post_date?t.datas.post_date.slice(0,10):""))],1),t._v(" "),n("a",{attrs:{href:t.globalConfig.jobSite,target:"_blank"}},[t.datas.is_job?n("a-tag",{staticClass:"tag-view tag-view-color"},[t._v("\n                招聘\n              ")]):t._e()],1),t._v(" "),n("a",{attrs:{href:t.host_name+"/fevents/273278.html",target:"_blank"}},[t.datas.is_jb&&!t.datas.is_original?n("a-tag",{staticClass:"tag-view",attrs:{color:"orange"}},[t._v("\n                金币\n              ")]):t._e()],1),t._v(" "),n("a",{attrs:{href:t.host_name+"/articles/273280.html",target:"_blank"}},[t.datas.is_original?n("a-tag",{staticClass:"tag-view",attrs:{color:"orange"}},[t._v("\n                原创\n              ")]):t._e()],1)]),t._v(" "),n("a",{staticClass:"item-content",attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n            "+t._s("ad"===t.types?t.datas.desc.length>80?t.datas.desc.substr(0,80)+"...":t.datas.desc:t.datas.content.length>80?t.datas.content.substr(0,80)+"...":t.datas.content)+"\n          ")])]),t._v(" "),n("div",{staticClass:"item-bottom"},[n("span",{staticClass:"slot"},[t._t("default")],2),t._v(" "),n("p",{staticClass:"bottom-right"},[n("a",{attrs:{href:t.datas.url,target:"_blank"}},[t._v("\n              已有"),n("span",[t._v(t._s(t.datas.read_count))]),t._v("人围观")])])])])])]:t._e()],2):t._e()}),[],!1,null,"4c98f879",null);e.a=s.exports},1481:function(t,e,a){"use strict";var n=a(1474);a.n(n).a},1483:function(t,e,a){},1485:function(t,e,a){"use strict";a.d(e,"i",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"j",(function(){return m})),a.d(e,"h",(function(){return v})),a.d(e,"m",(function(){return f})),a.d(e,"l",(function(){return h})),a.d(e,"o",(function(){return _})),a.d(e,"n",(function(){return g})),a.d(e,"p",(function(){return b})),a.d(e,"w",(function(){return w})),a.d(e,"v",(function(){return y})),a.d(e,"r",(function(){return C})),a.d(e,"s",(function(){return k})),a.d(e,"k",(function(){return D})),a.d(e,"t",(function(){return x})),a.d(e,"q",(function(){return j})),a.d(e,"u",(function(){return I}));var n=a(10),i=a(19),s=function(t){return n.a.get("/frontend/author/userInfo",{params:t})},r=function(t){return n.a.get("/frontend/author/column",{params:t})},o=function(t){return n.a.get("/frontend/author/dynamic",{params:t})},c=function(t){return n.a.get("/frontend/author/article",{params:t})},l=function(t){return n.a.get("/frontend/author/comment",{params:t})},u=function(t){return n.a.get("/frontend/author/follow",{params:t})},d=function(t){return n.a.get("/frontend/author/favorites",{params:t})},p=function(t){return n.a.get("/frontend/author/isFollow",{params:t})},m=function(t){return n.a.get("/frontend/author/visit",{params:t})},v=function(t){return i.a.get("/gapi/web/user/coupon",{params:t})},f=function(t){return i.a.post("/gapi/web/user/coupon/exchange/fvip/".concat(t.id))},h=function(t){return i.a.post("/gapi/web/user/coupon/exchange/article",t)},_=function(t){return i.a.delete("/gapi/appv1/collect/record/".concat(t.id))},g=function(t){return i.a.post("/gapi/appv1/society/user/behavior",t)},b=function(t){return i.a.get("/gapi/appv1/personal/collect/list",{params:t})},w=function(t){return i.a.post("/gapi/appv1/wiki/unCollect",t)},y=function(t){return i.a.get("/gapi/appv1/wiki/collect/list",{params:t})},C=function(t){return i.a.get("/gapi/appv1/personal/directory/files",{params:t})},k=function(t){return i.a.get("/gapi/appv1/personal/directory/list",{params:t})},D=function(t){return i.a.post("/gapi/appv1/collect/record",t)},x=function(t){return i.a.put("/gapi/appv1/personal/directory/move",t)},j=function(t){return i.a.post("/gapi/appv1/personal/directory/create",t)},I=function(t){return i.a.put("/gapi/appv1/personal/directory/rename",t)}},1486:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return r}));var n=a(19),i=function(t){return n.a.get("/gapi/activity/vip/info",{params:t})},s=function(t){return n.a.get("/gapi/activity/vip/notice",{params:t})},r=function(t){return n.a.get("/gapi/activity/vip/popup",{params:t})}},1487:function(t,e,a){},1488:function(t,e,a){},1495:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a(222),i=a(318);function s(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1498:function(t,e,a){},1499:function(t,e,a){},1500:function(t,e,a){},1501:function(t,e,a){},1502:function(t,e,a){},1503:function(t,e,a){"use strict";var n=a(1483);a.n(n).a},1504:function(t,e,a){},1532:function(t,e,a){"use strict";a(45);var n=a(22),i=(a(669),a(310)),s=a(14),r={name:"",props:{type:{type:Number,default:0}},data:function(){return{host_name:"https://www.freebuf.com",sendLoadding:!1,applyTimer:null,modalType:0}},created:function(){this.modalType=this.type},methods:{closeModal:function(){window.clearTimeout(this.applyTimer),this.applyTimer=null,this.$parent.resetApplyVal()},postmessageSend:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(s.d)("username")){e.next=5;break}return a=window.location.href,window.location.href="".concat(t.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(a)),e.abrupt("return",!1);case 5:return t.sendLoadding=!0,n={username:"木木非",content:"昵称：".concat(Object(s.d)("nickname"),"  用户名：").concat(Object(s.d)("username"))},e.next=9,Object(i.i)(n).then((function(e){t.$message.success("申请消息已发送"),t.sendLoadding=!1,t.applyTimer=setTimeout((function(){t.modalType=1}),1200)})).catch((function(e){t.sendLoadding=!1,t.$message.error(e.msg)}));case 9:case"end":return e.stop()}}),e)})))()}}},o=(a(1503),a(12)),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apply-payment-modal"},[a("a-modal",{staticClass:"apply-modal-container",attrs:{visible:1==t.modalType,width:"480px",footer:null},on:{cancel:t.closeModal}},[a("div",{staticClass:"modal-content"},[a("div",[a("h4",[t._v("申请成功")]),t._v(" "),a("p",[t._v("管理员将在1~3个工作日内通过FreeBuf私信联系你")]),t._v(" "),a("p",[t._v("若你有其他疑问也可以添加管理员微信：Erfubreef121")])]),t._v(" "),a("div",{staticClass:"btn"},[a("a-button",{attrs:{type:"primary"},on:{click:t.closeModal}},[t._v("\n          我知道了\n        ")])],1)])]),t._v(" "),a("a-modal",{staticClass:"intro-modal-container",attrs:{visible:2==t.modalType,width:"635px",title:"FreeBuf付费文章创作说明",footer:null},on:{cancel:t.closeModal}},[a("div",{staticClass:"modal-content"},[a("div",[a("h4",[t._v("收益说明")]),t._v(" "),a("p",{staticStyle:{color:"#2DB362"}},[t._v("\n          总收益=单篇购买收益*100%+原创文章奖励计划（¥200~¥1000）+会员订单返利*10%\n        ")]),t._v(" "),a("p",[t._v("1、读者购买单篇文章，收益将全部打入您的FreeBuf钱包；")]),t._v(" "),a("p",[t._v("2、读者通过您的付费文章购买会员，您即可获得相应返利，返利金额为订单支付金额的10%；")]),t._v(" "),a("p",[t._v("3、付费文章同时享有原创文章现金奖励，金额为200-1000元不等。")])]),t._v(" "),a("div",[a("h4",[t._v("开通条件")]),t._v(" "),a("p",[t._v("1、FreeBuf注册会员")]),t._v(" "),a("p",[t._v("\n          2、发表过\n          "),a("a",{attrs:{href:t.globalConfig.hostName+"/news/others/17613.html",target:"_blank"}},[t._v("原创奖励计划文章")])]),t._v(" "),a("p",[t._v("在此基础上，如果您有长篇系列佳作或长期供稿意愿，将增加开通成功几率")])]),t._v(" "),a("div",[a("h4",[t._v("如何开通")]),t._v(" "),a("p",[t._v("若您符合上述条件，请点击下方“立即申请”按钮")])]),t._v(" "),a("div",{staticClass:"btn"},[a("a-button",{attrs:{type:"primary",disabled:t.sendLoadding},on:{click:t.postmessageSend}},[t._v("\n          立即申请\n        ")])],1)])])],1)}),[],!1,null,"05b5f8f2",null);e.a=c.exports},1536:function(t,e,a){"use strict";var n=a(1487);a.n(n).a},1537:function(t,e,a){"use strict";var n=a(1488);a.n(n).a},1544:function(t,e,a){"use strict";a(57);var n=a(1495),i=(a(64),a(131),a(104),a(130),a(669),a(1475)),s={props:{renderContent:{type:String,default:""},compkey:{type:Number,default:0},server:{type:Boolean,default:!1}},data:function(){return{elNode:null,idList:1,catalog:[],header:{name:"",id:"",child:[]},wikiPopupList:[{id:1,title:"标题",icon:"wk_user_menu_no1"},{id:2,title:"标题",icon:"wk_user_menu_no2"},{id:3,title:"标题",icon:"wk_user_menu_no3"},{id:5,title:"标题",icon:"wk_user_menu_no1"}],popupKey:0,popupText:"",entryTimeout:null,wikiTimeout:null}},watch:{compkey:{handler:function(t,e){t!==e&&this.updatePageInfo()},immediate:!1,deep:!0}},mounted:function(){var t=this;this.contentDetail=this.$refs.contentDetail,this.$nextTick((function(){t.server||t.initArticalDoc(),t.getContentPicture(),t.filterPnodeOfNull()}))},methods:{updatePageInfo:function(){var t=this;this.server||this.initArticalDoc(),this.filterPnodeOfNull(),this.queryIframeNode(),this.$nextTick((function(){t.getContentPicture()}))},getContentPicture:function(){if(null===this.contentDetail||void 0===this.contentDetail)return this.$message.info("为获取到页面目标节点"),!1;for(var t=document.querySelector("#tinymce-editor").querySelectorAll("img"),e=0;e<t.length;e++){var a=t[e].getAttribute("src");a.includes("!small")&&(a=a.split("!small")[0]),t[e].setAttribute("preview",e),t[e].setAttribute("large",a)}this.$previewRefresh()},queryIframeNode:function(){var t=this.contentDetail.querySelectorAll("iframe")[0];t&&(t.style.width="640px",t.style.height="514px")},filterPnodeOfNull:function(){var t=this.contentDetail.querySelectorAll("p");if(0!==t.length)for(var e=0;e<t.length;e++)if("BR"===t[e].nodeName)t[e].remove();else if("P"===t[e].nodeName){var a=t[e].textContent.trim();a=a.replace(/(^s*)|(s*$)/gi,""),0!==t[e].children.length||""!==a&&0!==a.length&&"&nbsp;"!==a||t[e].remove()}},errorPupop:function(t,e){var a=document.querySelector(".wiki-popup");a&&a.remove();var n=document.createElement("span");n.className="wiki-popup wiki-popup-1 wiki-popup-nones",n.innerHTML='<div class="wiki-popup-none"><img src="https://image.3001.net/images/20220803/1659516175_62ea350f904f71dd14c89.png"><p>'.concat(t,'</p><div class="popup-arrows"><img src="https://image.3001.net/images/20220803/1659516811_62ea378b733100e001067.png"></div>'),e.appendChild(n),document.onclick=function(){var t=document.querySelector(".wiki-popup");t&&t.remove(),document.onclick=null},document.querySelector(".wiki-popup").onclick=function(t){t.stopPropagation()}},appendWikiPopup:function(){var t=this,e=document.getElementsByClassName("wiki-entry");if(0==e.length)return[];for(var a=function(a){e[a].onclick=function(s){setTimeout((function(){var r={title:s.target.innerText,limit:4,type:"equal",page:1};Object(i.B)(r).then((function(i){var s=i.data;0==s.length?t.errorPupop("暂无此词条",e[a]):function(){t.wikiPopupList=Object(n.a)(s),t.popupKey=0;var i=document.createElement("span");i.className="wiki-popup wiki-popup-".concat(t.wikiPopupList.length);var r=document.querySelector(".wiki-popup");r&&r.remove();var o=[];t.wikiPopupList.forEach((function(t,e){var a=t.parent.length?t.parent[0].title:t.camp[0].title,n="<span class='content-title ".concat(0==e?"content-title-active":"","' data-id=\"").concat(e,'">').concat(a,"</span>");o.push(n)})),i.innerHTML="<div class=\"wiki-content\"> <div class='content-top'>".concat(o.join(""),'</div><div class="content-bottom"><span class="content-content">').concat(t.wikiPopupList[0].description.length>30?t.wikiPopupList[0].description.slice(0,30)+"...":t.wikiPopupList[0].description,'</span><span class="read-more">查看更多</span></div> </div><div class="popup-arrows"><img src="https://image.3001.net/images/20220803/1659516811_62ea378b733100e001067.png"></div>'),e[a].appendChild(i);var c=document.getElementsByClassName("content-title"),l=document.querySelector(".wiki-popup");if(0!==c.length)for(var u=function(e){c[e].onclick=function(a){var n=a.target.getAttribute("data-id");t.popupKey=n,c[e].className="content-title content-title-active";for(var i=0;i<c.length;i++)i!=e&&(c[i].className="content-title");var s=document.getElementsByClassName("content-content");s.length&&(s[0].innerHTML=t.wikiPopupList[n].description.length>30?t.wikiPopupList[n].description.slice(0,30)+"...":t.wikiPopupList[n].description),l.style.right="".concat(50+Math.random()/10,"%")}},d=0;d<c.length;d++)u(d);document.getElementsByClassName("read-more")[0].onclick=function(e){var a=t.wikiPopupList[t.popupKey];window.open("".concat("https://wiki.freebuf.com","/detail?tribal_id=").concat(a.tribal_id,"&camp_id=").concat(a.camp_id,"&entry_id=").concat(a.id))},document.onclick=function(){l&&i.remove(),document.onclick=null},l.onclick=function(t){t.stopPropagation()}}()})).catch((function(n){t.errorPupop("数据请求失败",e[a])}))}),1)}},s=0;s<e.length;s++)a(s)},initArticalDoc:function(){if(null===this.contentDetail||void 0===this.contentDetail)return this.$message.info("为获取到页面目标节点"),!1;var t=this.getArticleCatalog();t.length>0&&this.$emit("renderCateList",t)},getArticleCatalog:function(){var t=0,e=0;this.catalog=[];var a=this.contentDetail.querySelectorAll("h2,h3");if(0===a.length)return[];for(var n=0;n<a.length;n++)if("H2"===a[n].nodeName)t+=1,a[n].id="h2-".concat(t),this.header={name:a[n].textContent,id:"h2-".concat(t),child:[]},this.catalog.push(this.header);else if("H3"===a[n].nodeName){e+=1,a[n].id="h3-".concat(e);var i={id:"h3-".concat(e),name:a[n].textContent};this.header.child.push(i)}if(0===this.catalog.length){var s=[];if(this.header.child.length>0)for(var r=0;r<this.header.child.length;r++){var o=this.header.child[r];o.id&&o.name&&s.push(o)}var c={id:"",name:"",child:s};this.catalog=[c]}return this.catalog}}},r=(a(1536),a(1537),a(12)),o=Object(r.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-detail",attrs:{id:"tinymce-editor"}},[e("div",{ref:"contentDetail",domProps:{innerHTML:this._s(this.renderContent)}})])}),[],!1,null,null,null);e.a=o.exports},1546:function(t,e,a){"use strict";a(669);var n=a(308),i={props:{propdata:{type:Object,default:function(){return{}}},type:{type:Number,default:1},nickname:{type:String,default:""}},data:function(){return{defaultImg:"https://image.3001.net/images/index/wp-user-avatar-50x50.png",isMail:!0,message:"",is_anonymous:!1}},computed:{userInfo:function(){return this.$store.state.userInfo.userInfo}},watch:{userInfoData:{handler:function(t,e){},deep:!0,immediate:!0}},created:function(){this.message="".concat(this.nickname," ").concat(this.message)},methods:{onAnonymousChange:function(t){this.is_anonymous=t.target.checked},changeCheckbox:function(t){this.isMail=t.target.checked},sendFace:function(){alert("暂未添加表情功能")},sendPicture:function(t){var e=this,a=t.target.files.length>0?t.target.files[0]:null;if(!a)return!1;var i=new FormData;i.append("file",a),i.append("is_base64",0),Object(n.B)(i).then((function(a){a.data&&(e.message+="[img]".concat(a.data.url,"[/img]"),t.target.value="")})).catch((function(t){e.$message.error(t.msg)}))},sendInfo:function(){if(""===this.message||!this.message.trim()||"&nbsp;"===this.message)return this.$message.error("请至少写句话吧~"),!1;this.$emit("triggerAnwser",{content:this.message.trim(),notice:this.isMail?1:0,is_anonymous:this.is_anonymous?1:0})},cancel:function(){this.message="",this.$parent.anwserChat="",this.$parent.parentId="0",this.$parent.inputRegion=!1},bindUserPhone:function(){this.$emit("showPhonePanel",!0)},loginAction:function(t){if(t){var e=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(e))}else window.location.href="".concat(this.globalConfig.fbPcSite,"/login")}}},s=(a(1562),a(12)),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-item"},[a("div",{staticClass:"avatar"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.userInfo.user_pic?t.userInfo.user_pic:t.defaultImg}})])]),t._v(" "),t.userInfo.username&&t.userInfo.phone?a("div",{staticClass:"content"},[a("div",{staticClass:"text-area"},[a("a-textarea",{attrs:{"max-length":500,placeholder:"请输入您的评论...","auto-size":{minRows:3,maxRows:5}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),a("div",{staticClass:"comment-status"},[a("span",{staticClass:"remind"},[a("a-checkbox",{attrs:{checked:t.isMail},on:{change:t.changeCheckbox}},[t._v("\n          有人回复时邮件通知我\n        ")])],1),t._v(" "),a("span",{staticClass:"handler"},[a("span",{staticClass:"picture"},[a("span",{staticClass:"box"},[a("a-icon",{attrs:{type:"picture"}}),t._v(" "),a("input",{staticClass:"input-btn",attrs:{title:"上传图片",type:"file",value:"",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.sendPicture(e)}}})],1)]),t._v(" "),a("a-checkbox",{attrs:{checked:t.is_anonymous},on:{change:t.onAnonymousChange}},[t._v("\n          匿名\n        ")]),t._v(" "),a("span",{staticClass:"send",on:{click:t.sendInfo}},[t._v("发表")]),t._v(" "),2!=t.type?a("span",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消")]):t._e()],1)])]):t.userInfo.username&&!t.userInfo.phone?a("div",{staticClass:"content nophone"},[a("p",[t._v("根据相关政策法规，请"),a("span",{on:{click:t.bindUserPhone}},[t._v("绑定手机号")]),t._v("后在FreeBuf发布内容哦～")])]):a("div",{staticClass:"content nologin"},[a("p",[t._v("请"),a("span",{on:{click:function(e){return t.loginAction(1)}}},[t._v("登录")]),t._v("/"),a("span",{on:{click:function(e){return t.loginAction(0)}}},[t._v("注册")]),t._v("后在FreeBuf发布内容哦")])])])}),[],!1,null,"d7d5c46c",null);e.a=r.exports},1559:function(t,e,a){},1560:function(t,e,a){"use strict";var n=a(1498);a.n(n).a},1561:function(t,e,a){"use strict";var n=a(1499);a.n(n).a},1562:function(t,e,a){"use strict";var n=a(1500);a.n(n).a},1563:function(t,e,a){"use strict";var n=a(1501);a.n(n).a},1564:function(t,e,a){"use strict";var n=a(1502);a.n(n).a},1565:function(t,e,a){},1566:function(t,e,a){},1567:function(t,e,a){},1568:function(t,e,a){"use strict";var n=a(1504);a.n(n).a},1569:function(t,e,a){},1570:function(t,e,a){},1752:function(t,e,a){"use strict";a(219),a(71),a(56),a(30),a(103),a(45);var n=a(22),i=a(86),s=a(1475);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var o={props:{types:{type:String,default:""},authorname:{type:String,default:""},itemdata:{type:Object,default:function(){return{}}}},data:function(){return{dropdownStatus:!1,isShowReport:!1,reportInfo:["广告等垃圾信息","不友善内容","违反法律法规的内容","不宜公开讨论的政治内容","其他"],parentdata:{}}},computed:{userInfoData:function(){return this.$store.state.userInfo.userInfo},postUserName:function(){return this.authorname}},watch:{userInfoData:{handler:function(t,e){},deep:!0,immediate:!0}},created:function(){this.parentdata=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.itemdata)},methods:{onvisibleChange:function(t){this.dropdownStatus=t},showReportOut:function(){this.isShowReport=!1},showReportOver:function(){this.isShowReport=!0},editComment:function(t){window.location.href="".concat(this.globalConfig.hostName,"/wp-admin/comment.php?action=editcomment&c=").concat(this.parentdata.id)},signComment:function(t){window.location.href="".concat(this.globalConfig.hostName,"/wp-admin/comment.php?action=cdc&dt=spam&c=").concat(this.parentdata.id)},deleteComment:function(t){var e=this;if(!this.isShowReport)return!1;this.$confirm({title:"确定要删除这条评论吗？",content:"",okText:"确定",cancelText:"取消",onOk:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.f)({id:e.parentdata.id}).then((function(){e.$message.success("评论已移入回收站!"),e.$parent.itemData.child.forEach((function(t,a){t.id===e.parentdata.id&&e.$parent.itemData.child.splice(a,1)}))}));case 2:case"end":return t.stop()}}),t)})))()},onCancel:function(){}})},jumpToPersonal:function(t){if(t||t.length>0){var e="".concat(this.globalConfig.hostName,"/author/").concat(this.parentdata.username);window.open(e,"_blank")}},onReportClick:function(t,e){var a=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=11;break}if(i={id:a.parentdata.id,type:2,reason:e},"column"!==a.types){n.next=7;break}return n.next=5,Object(s.d)(i).then((function(t){200===t.code&&(a.$message.success("举报成功!"),a.$set(a.parentdata,"report_status",!0))})).catch((function(t){a.$message.error(t.msg)}));case 5:n.next=9;break;case 7:return n.next=9,Object(s.y)(i).then((function(t){200===t.code&&(a.$message.success("举报成功!"),a.$set(a.parentdata,"report_status",!0))})).catch((function(t){a.$message.error(t.msg)}));case 9:n.next=12;break;case 11:a.$message.success("您已举报过该评论，请勿重复操作!");case 12:case"end":return n.stop()}}),n)})))()},approveAction:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.like_status?2:1,i={id:t.id,type:1,status:n},"column"!==e.types){a.next=7;break}return a.next=5,Object(s.d)(i).then((function(a){if(200===a.code)if(t.like_status){e.$message.success("取消点亮！");var n=parseInt(t.agree)-1;e.$set(t,"agree",n),e.$set(t,"like_status",!1)}else{e.$message.success("点亮成功！");var i=parseInt(t.agree)+1;e.$set(t,"agree",i),e.$set(t,"like_status",!0)}})).catch((function(t){e.$message.error(t.msg)}));case 5:a.next=9;break;case 7:return a.next=9,Object(s.y)(i).then((function(a){if(200===a.code)if(2===n){e.$message.success("取消点亮！");var i=parseInt(t.agree)-1;e.$set(e.parentdata,"agree",i),e.$set(e.parentdata,"like_status",!1)}else{e.$message.success("点亮成功！");var s=parseInt(t.agree)+1;e.$set(e.parentdata,"agree",s),e.$set(e.parentdata,"like_status",!0)}})).catch((function(t){e.$message.error(t.msg)}));case 9:case"end":return a.stop()}}),a)})))()},anwserAction:function(){this.$parent.inputRegion=!0,this.$emit("hideSiblingPanel",this.$parent.itemData.id),this.$parent.inputRegion&&(this.$parent.anwserChat="child",this.$parent.parentId=this.parentdata.id,this.$parent.responseName="@"+this.parentdata.nickname)}}},c=(a(1561),a(12)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-item",on:{mouseover:function(e){return t.showReportOver(!0)},mouseout:function(e){return t.showReportOut(!1)}}},[n("div",{staticClass:"avatar"},[n("div",{staticClass:"img",style:{cursor:t.parentdata.is_wb||t.parentdata.is_anonymous?"initial":""},on:{click:function(e){return t.jumpToPersonal(t.parentdata.user_url)}}},[n("img",{staticStyle:{color:"#fff"},attrs:{src:t.parentdata.user_pic,alt:t.parentdata.username}})])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"user-info"},[n("span",{staticClass:"name",style:{cursor:t.parentdata.is_wb||t.parentdata.is_anonymous?"initial":""},on:{click:function(e){return t.jumpToPersonal(t.parentdata.user_url)}}},[t._v(t._s(t.parentdata.nickname))]),t._v(" "),t.postUserName==t.parentdata.username&&"column"!==t.types?n("span",{staticClass:"is_author"},[t._v("会员")]):t._e(),t._v(" "),t.parentdata.vip?n("span",{staticClass:"is-vip"},[n("img",{attrs:{src:a(668)}})]):t._e(),t._v(" "),t.parentdata.user_level>0?n("span",{staticClass:"level"},[t._v("LV."+t._s(t.parentdata.user_level))]):t._e(),t._v(" "),t.parentdata.desc?n("span",{staticClass:"tag"},[n("i",[t._v("(")]),n("b",[t._v(t._s(t.parentdata.desc))]),n("i",[t._v(")")])]):t._e()]),t._v(" "),n("div",{staticClass:"context"},[n("span",{staticClass:"comment-txt",style:{color:"spam"===t.parentdata.approved?"rgba(0,0,0,.25)":""},domProps:{innerHTML:t._s(t.parentdata.content)}}),t._v(" "),n("span",{staticStyle:{fontStyle:"italic"}},[t._v(t._s(0==t.parentdata.approved?"（ 评论审核中，通过后自动发布~ ）":""))])]),t._v(" "),n("div",{staticClass:"comment-status"},[n("span",[n("span",{staticClass:"date"},[t._v(t._s(t.parentdata.date))]),t._v(" "),t.parentdata.ip_address?n("span",[t._v("· "+t._s(t.parentdata.ip_address))]):t._e()]),t._v(" "),1==t.parentdata.approved?n("span",{staticClass:"interaction"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"admin"==t.userInfoData.role&&t.isShowReport,expression:"userInfoData.role == 'admin' && isShowReport"}],staticClass:"admin-handler"},[n("span",{staticClass:"edit",on:{click:function(e){return t.editComment(t.parentdata)}}},[n("a-icon",{attrs:{type:"edit"}}),t._v("编辑")],1),t._v(" "),n("span",{staticClass:"sign",on:{click:function(e){return t.signComment(t.parentdata)}}},[n("a-icon",{attrs:{type:"dislike"}}),t._v("标为垃圾")],1),t._v(" "),n("span",{staticClass:"delete",on:{click:function(e){return t.deleteComment(t.parentdata)}}},[n("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]),t._v(" "),t.parentdata.report_status?[n("a",{directives:[{name:"show",rawName:"v-show",value:t.isShowReport,expression:"isShowReport"}],staticClass:"ant-dropdown-link reported"},[n("a-icon",{attrs:{type:"info-circle"}}),t._v("已举报\n\t\t\t\t\t")],1)]:[n("a-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isShowReport||t.dropdownStatus,expression:"isShowReport || dropdownStatus"}],on:{visibleChange:t.onvisibleChange}},[n("a",{staticClass:"ant-dropdown-link",class:t.parentdata.report_status?"reported":"",on:{click:function(t){return t.preventDefault()}}},[n("a-icon",{attrs:{type:"info-circle"}}),t._v(t._s(t.parentdata.report_status?"已举报":"举报")+"\n\t\t\t\t\t\t")],1),t._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},t._l(t.reportInfo,(function(e){return n("a-menu-item",{key:e,on:{click:function(a){return t.onReportClick(t.parentdata.report_status,e)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])})),1)],1)],t._v(" "),n("span",{staticClass:"approve",class:t.parentdata.like_status?"clicked":"",on:{click:function(e){return t.approveAction(t.parentdata)}}},[n("svg-icon",{staticStyle:{width:"15px",height:"15px"},attrs:{"icon-class":t.parentdata.like_status?"liked":"unlike"}}),t._v("\n\t\t\t\t\t亮了 "+t._s(t.parentdata.agree>0?"("+t.parentdata.agree+")":"  "))],1),t._v(" "),n("span",{staticClass:"anwser",on:{click:function(e){return t.anwserAction(t.parentdata)}}},[n("a-icon",{attrs:{type:"message"}}),t._v("回复")],1)],2):t._e()])])])}),[],!1,null,"07ead360",null).exports,u=a(1546),d=a(308);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var m={components:{ChildItem:l,InputItem:u.a},props:{columnid:{type:String,default:""},types:{type:String,default:""},parentdata:{type:Object,default:function(){return{}}},articalId:{type:String,default:""},postauthorname:{type:String,default:""}},data:function(){return{host_name:"https://www.freebuf.com",dropdownStatus:!1,itemData:{},isShowReport:!1,limitNum:5,isExpand:!1,isFocus:!1,responseName:"",anwserChat:"",parentId:"0",reportInfo:["广告等垃圾信息","不友善内容","违反法律法规的内容","不宜公开讨论的政治内容","其他"]}},computed:{userInfoData:function(){return this.$store.state.userInfo.userInfo},inputRegion:{get:function(){return this.parentdata.hideInput},set:function(t){this.parentdata.hideInput=t}},authorName:function(){return this.postauthorname}},watch:{userInfoData:{handler:function(t,e){},deep:!0,immediate:!0}},created:function(){this.itemData=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.parentdata)},methods:{viewVipPage:function(){window.open("/member")},onvisibleChange:function(t){this.dropdownStatus=t},showReport:function(t){this.isShowReport=t},editComment:function(t){window.location.href="".concat(this.host_name,"/wp-admin/comment.php?action=editcomment&c=").concat(this.parentdata.id)},signComment:function(t){window.location.href="".concat(this.host_name,"/wp-admin/comment.php?action=cdc&dt=spam&c=").concat(this.parentdata.id)},deleteComment:function(t){var e=this;this.$confirm({title:"确定要删除这条评论吗？",content:"",okText:"确定",cancelText:"取消",onOk:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.z)({id:e.parentdata.id}).then((function(){e.$message.success("评论已移入回收站!"),e.$parent.commentModule.data_list.forEach((function(t,a){t.id===e.parentdata.id&&e.$parent.commentModule.data_list.splice(a,1)}))}));case 2:case"end":return t.stop()}}),t)})))()},onCancel:function(){}})},jumpToPersonal:function(t){if(t||t.length>0){var e="".concat(this.globalConfig.hostName,"/author/").concat(this.parentdata.username);window.open(e,"_blank")}},approveAction:function(t){var e=this,a=t.like_status?2:1,n={id:t.id,type:1,status:a};"column"===this.types?Object(s.d)(n).then((function(a){if(200===a.code)if(t.like_status){e.$message.success("取消点亮！");var n=parseInt(t.agree)-1;e.$set(t,"agree",n),e.$set(t,"like_status",!1)}else{e.$message.success("点亮成功！");var i=parseInt(t.agree)+1;e.$set(t,"agree",i),e.$set(t,"like_status",!0)}})):Object(s.y)(n).then((function(a){if(200===a.code)if(t.like_status){e.$message.success("取消点亮！");var n=parseInt(t.agree)-1;e.$set(t,"agree",n),e.$set(t,"like_status",!1)}else{e.$message.success("点亮成功！");var i=parseInt(t.agree)+1;e.$set(t,"agree",i),e.$set(t,"like_status",!0)}}))},anwserAction:function(t){this.inputRegion=!0,this.$emit("hideSiblingPanel",t.id),this.inputRegion&&(this.anwserChat="child",this.parentId=this.itemData.id)},lookMore:function(t){this.isFocus||(this.isFocus=!0),this.isExpand=!this.isExpand},onReportClick:function(t,e){var a=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=11;break}if(i={id:a.parentdata.id,type:2,reason:e},"column"!==a.types){n.next=7;break}return n.next=5,Object(s.d)(i).then((function(t){200===t.code&&(a.$message.success("举报成功!"),a.$set(a.itemData,"report_status",!0))})).catch((function(t){a.$message.error(t.msg)}));case 5:n.next=9;break;case 7:return n.next=9,Object(s.y)(i).then((function(t){200===t.code&&(a.$message.success("举报成功!"),a.$set(a.itemData,"report_status",!0))})).catch((function(t){a.$message.error(t.msg)}));case 9:n.next=12;break;case 11:a.$message.success("您已举报过该评论，请勿重复操作!");case 12:case"end":return n.stop()}}),n)})))()},anwserCommentAction:function(t){var e=this,a=t;a.parent=this.parentId,"column"===this.types?(a.column_id=this.columnid,Object(d.f)(a).then((function(t){200===t.code&&("child"===e.anwserChat?(e.$message.success("恭喜，回复成功~"),e.parentdata.child.push(t.data)):(e.$message.success("恭喜，发布成功~"),e.parentdata.child.push(t.data)),e.$refs.childInput.cancel(),e.$emit("changeCommentCount",1),e.anwserChat="",e.parentId="0",e.inputRegion=!1,e.responseName="")})).catch((function(t){422===t.code?(e.$parent.modalTipText=t.msg,e.$parent.tipVisible=!0):e.$message.error(t.msg)}))):(a.post_id=this.articalId,Object(s.A)(a).then((function(t){200===t.code&&("child"===e.anwserChat?(e.$message.success("恭喜，回复成功~"),e.parentdata.child.unshift(t.data)):(e.$message.success("恭喜，发布成功~"),e.parentdata.child.push(t.data)),e.$emit("changeCommentCount",1),e.$refs.childInput.cancel(),e.anwserChat="",e.parentId="0",e.inputRegion=!1,e.responseName="")})).catch((function(t){422===t.code?(e.$parent.modalTipText=t.msg,e.$parent.tipVisible=!0):e.$message.error(t.msg)})))}}},v=(a(1563),Object(c.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-container"},[n("div",{staticClass:"comment-item"},[n("div",{staticClass:"avatar"},[n("div",{staticClass:"img",style:{cursor:t.itemData.is_wb||t.itemData.is_anonymous?"initial":""},on:{click:function(e){return t.jumpToPersonal(t.parentdata.user_url)}}},[n("img",{staticStyle:{color:"#fff"},attrs:{src:t.itemData.user_pic,alt:t.parentdata.username}})])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"content-wraper",on:{mouseenter:function(e){return e.stopPropagation(),e.preventDefault(),t.showReport(!0)},mouseleave:function(e){return e.stopPropagation(),e.preventDefault(),t.showReport(!1)}}},[n("div",{staticClass:"user-info"},[n("span",{staticClass:"name",style:{cursor:t.itemData.is_wb||t.itemData.is_anonymous?"initial":""},on:{click:function(e){return t.jumpToPersonal(t.parentdata.user_url)}}},[t._v(t._s(t.itemData.nickname))]),t._v(" "),t.authorName==t.itemData.username&&"column"!==t.types?n("span",{staticClass:"is_author"},[t._v("会员")]):t._e(),t._v(" "),t.itemData.vip?n("span",{staticClass:"is-vip",on:{click:t.viewVipPage}},[n("img",{attrs:{src:a(668)}})]):t._e(),t._v(" "),t.itemData.user_level>0&&"0"!==t.itemData.user_id?n("span",{staticClass:"level"},[t._v("LV."+t._s(t.itemData.user_level))]):t._e(),t._v(" "),t.itemData.is_wb?[n("a",{staticClass:"weibo-tag",attrs:{href:"https://www.weibo.com/freebuf",target:"_blank"}},[t._v("来自"),n("span",[t._v("新浪微博")]),t._v(" "),n("svg-icon",{staticStyle:{"font-size":"15px","margin-left":"3px"},attrs:{"icon-class":"weibo_logo"}})],1)]:[t.itemData.desc.length>0?n("span",{staticClass:"tag"},[n("i",[t._v("(")]),n("b",[t._v(t._s(t.itemData.desc))]),n("i",[t._v(")")])]):t._e()]],2),t._v(" "),n("div",{staticClass:"context"},[n("span",{staticClass:"comment-txt",style:{color:"spam"===t.parentdata.approved?"rgba(0,0,0,.25)":""},domProps:{innerHTML:t._s(t.parentdata.content)}}),t._v(" "),n("span",{staticStyle:{fontStyle:"italic"}},[t._v(t._s(0==t.parentdata.approved?"（ 评论审核中，通过后自动发布~ ）":""))])]),t._v(" "),n("div",{staticClass:"comment-status"},[n("span",[n("span",{staticClass:"date"},[t._v(t._s(t.itemData.date))]),t._v(" "),t.itemData.ip_address?n("span",[t._v("· "+t._s(t.itemData.ip_address))]):t._e()]),t._v(" "),1==t.parentdata.approved?n("span",{staticClass:"interaction"},["admin"==t.userInfoData.role&&t.isShowReport?n("span",{staticClass:"admin-handler"},[n("span",{staticClass:"edit",on:{click:function(e){return t.editComment(t.itemData)}}},[n("a-icon",{attrs:{type:"edit"}}),t._v("编辑")],1),t._v(" "),n("span",{staticClass:"sign",on:{click:function(e){return t.signComment(t.itemData)}}},[n("a-icon",{attrs:{type:"dislike"}}),t._v("标为垃圾")],1),t._v(" "),n("span",{staticClass:"delete",on:{click:function(e){return t.deleteComment(t.itemData)}}},[n("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1)]):t._e(),t._v(" "),t.itemData.report_status?[n("a",{directives:[{name:"show",rawName:"v-show",value:t.isShowReport,expression:"isShowReport"}],staticClass:"ant-dropdown-link reported"},[n("a-icon",{attrs:{type:"info-circle"}}),t._v("已举报\n\t\t\t\t\t\t\t")],1)]:[n("a-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isShowReport||t.dropdownStatus,expression:"isShowReport || dropdownStatus"}],on:{visibleChange:t.onvisibleChange}},[n("a",{staticClass:"ant-dropdown-link",class:t.itemData.report_status?"reported":"",on:{click:function(t){return t.preventDefault()}}},[n("a-icon",{attrs:{type:"info-circle"}}),t._v(t._s(t.itemData.report_status?"已举报":"举报")+"\n\t\t\t\t\t\t\t\t")],1),t._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},t._l(t.reportInfo,(function(e){return n("a-menu-item",{key:e,on:{click:function(a){return t.onReportClick(t.itemData.report_status,e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)],t._v(" "),n("span",{staticClass:"approve",class:t.itemData.like_status?"approved":"",on:{click:function(e){return t.approveAction(t.itemData)}}},[n("svg-icon",{staticStyle:{width:"15px",height:"15px"},attrs:{"icon-class":t.itemData.like_status?"liked":"unlike"}}),t._v("\n\t\t\t\t\t\t\t亮了 "+t._s(t.itemData.agree>0?"("+t.itemData.agree+")":"  ")+"\n\t\t\t\t\t\t")],1),t._v(" "),n("span",{staticClass:"anwser",on:{click:function(e){return t.anwserAction(t.itemData)}}},[n("a-icon",{attrs:{type:"message"}}),t._v("回复")],1)],2):t._e()])]),t._v(" "),n("div",{staticClass:"anwser-panel"},[!t.isExpand&&t.itemData.child.length>0?t._l(t.itemData.child.slice(0,t.limitNum),(function(e){return n("child-item",{key:e.id,attrs:{types:t.types,authorname:t.postauthorname,itemdata:e}})})):t._l(t.itemData.child,(function(e){return n("child-item",{key:e.id,attrs:{types:t.types,authorname:t.postauthorname,itemdata:e}})})),t._v(" "),t.itemData.child.length>t.limitNum?n("div",{staticClass:"comment-num"},[t._v("\n\t\t\t\t\t共"+t._s(t.itemData.child.length)+"条回复，\n\t\t\t\t\t"),t.itemData.child.length>t.limitNum?n("span",[t.isFocus?t._e():n("span",{on:{click:function(e){return t.lookMore(t.itemData)}}},[t._v("点击查看")]),t._v(" "),t.isExpand&&t.isFocus?n("span",{on:{click:function(e){return t.lookMore(t.itemData)}}},[t._v("收起")]):t._e(),t._v(" "),!t.isExpand&&t.isFocus?n("span",{on:{click:function(e){return t.lookMore(t.itemData)}}},[t._v("展开")]):t._e()]):t._e()]):t._e()],2)])]),t._v(" "),t.inputRegion?n("InputItem",{ref:"childInput",attrs:{type:1,propdata:t.itemData,nickname:t.responseName},on:{triggerAnwser:t.anwserCommentAction}}):t._e()],1)}),[],!1,null,"61b52980",null));e.a=v.exports},1755:function(t,e,a){"use strict";var n={name:"",props:{visible:{type:Boolean,value:!1}},data:function(){return{}},methods:{handleCancel:function(){this.$parent.visible=!1},openUrl:function(t){window.open(t)}}},i=(a(1560),a(12)),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{width:560,visible:t.visible},on:{cancel:t.handleCancel}},[a("template",{slot:"title"},[a("span",{staticClass:"span-title"},[t._v("\n      您还不是甲方会员\n    ")])]),t._v(" "),a("p",{staticClass:"list"},[t._v("\n    成为甲方会员免费畅读FreeBuf咨询出品报告，还有门票折扣、精品月刊、预警订阅、媒体报道等多种特权，欢迎加入。\n  ")]),t._v(" "),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"colorBorder"},on:{click:function(e){return t.openUrl(t.globalConfig.hostName+"/vip")}}},[t._v("\n      了解更多\n    ")])],1)],2)}),[],!1,null,"459c791d",null);e.a=s.exports},1756:function(t,e,a){"use strict";var n={props:{listdata:{type:Object,value:{}},source:{type:String,default:"index"}}},i=(a(1564),a(12)),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"job-list",class:"index"===t.source?"index-job":"home-job",style:"border-radius:"+("index"===t.source?"3px":"0")},[a("a",{staticClass:"job-top",attrs:{href:t.listdata.job_url,target:"_blank"}},[a("p",{staticClass:"job text-line-1"},[t._v("\n      "+t._s(t.listdata.job_name)+"\n    ")]),t._v(" "),a("p",{staticClass:"need"},[a("span",[t._v("经验 "+t._s(t.listdata.job_experience)+"/"+t._s(t.listdata.job_degree))]),t._v(" "),a("span",{staticClass:"back"},[0!==parseInt(t.listdata.job_salary_min)?[t._v("\n          "+t._s(parseInt(t.listdata.job_salary_min))+"K - "+t._s(parseInt(t.listdata.job_salary_max))+"K\n        ")]:[t._v("面议")]],2)])]),t._v(" "),a("div",{staticClass:"job-bottom"},[a("a",{attrs:{href:t.listdata.company_url,target:"_blank"}},[a("span",{staticClass:"logo"},[a("img",{attrs:{src:t.listdata.company_picture,alt:""}})]),t._v(" "),a("div",{staticClass:"info"},[a("h4",[t._v(t._s(t.listdata.company_name))]),t._v(" "),a("p",[t._v(t._s(t.listdata.company_trade))])])])])])}),[],!1,null,"5004b334",null);e.a=s.exports},1757:function(t,e,a){"use strict";a(64);var n={props:{type:{required:!0,type:String,default:""},vipinfo:{required:!0,type:Object,default:function(){return null}}},data:function(){return{tips:0}},watch:{vipinfo:{handler:function(t){t&&this.calcFvipStatus()},immediate:!0,deep:!0}},methods:{calcFvipStatus:function(){var t=this.vipinfo.vip_time;if(t){var e=new Date(t.replace(/-/gi,"/")).getTime()-(new Date).getTime();this.tips=e>=6048e5?2:e>=0&&e<6048e5?1:0}},clickType:function(){window.open("/FVIP")},closeTips:function(){this.$emit("close")}}},i=(a(1568),a(12)),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1===t.tips||2===t.tips?a("div",{staticClass:"vip-payfee-wrapper"},[a("div",{staticClass:"vip-payfee-lf"},["article"==t.type?[2==t.tips?a("p",[t._v("正在使用FVIP权益，阅读付费文章！")]):1==t.tips?a("p",[t._v("您的FVIP会员权益即将过期，过期后无法免费阅读付费文章！")]):t._e()]:t._e(),t._v(" "),"search"==t.type?[2==t.tips?a("p",[t._v("正在使用FVIP权益，体验资源搜索！")]):1==t.tips?a("p",[t._v("您的FVIP会员权益即将过期，过期后无法体验资源下载不限次！")]):t._e()]:t._e()],2),t._v(" "),a("div",{staticClass:"vip-payfee-rt"},[t.vipinfo?a("div",{staticClass:"btnlink",on:{click:t.clickType}},[a("span",[t._v(t._s(t.vipinfo.vip?"去续费":"去加入"))]),t._v(" "),a("a-icon",{attrs:{type:"caret-right",theme:"filled"}})],1):t._e(),t._v(" "),a("div",{staticClass:"close",on:{click:t.closeTips}},[a("a-icon",{attrs:{type:"close-circle",theme:"filled"}})],1)])]):t._e()}),[],!1,null,"2bc7b40e",null);e.a=s.exports},1789:function(t,e,a){"use strict";var n=a(1559);a.n(n).a},1790:function(t,e,a){"use strict";var n=a(1565);a.n(n).a},1791:function(t,e,a){"use strict";var n=a(1566);a.n(n).a},1792:function(t,e,a){"use strict";var n=a(1567);a.n(n).a},1793:function(t,e,a){"use strict";var n=a(1569);a.n(n).a},1794:function(t,e,a){"use strict";var n=a(1570);a.n(n).a},2056:function(t,e,a){"use strict";a.r(e),a(669),a(57),a(131),a(104),a(130),a(45);var n=a(22),i=a(1485),s={name:"FreeBufSsrNuxtUseCoupons",props:{articalId:{type:Number,default:0}},data:function(){return{visible:!1}},mounted:function(){},methods:{open:function(){this.visible=!0},cancel:function(){this.visible=!1},redeemFvip:function(){var t=this,e={post_id:1*this.articalId,coupon_id:0};Object(i.l)(e).then((function(){t.$message.success("使用成功"),setTimeout((function(){window.location.href=window.location.href}),1500)}))}}},r=(a(1789),a(12)),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{footer:null,width:"320px",bodyStyle:{background:"transparent"},dialogClass:"use-coupons-modal"},on:{cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"use-coupons"},[a("div",{staticClass:"title"},[t._v("确定使用1张付费阅读券"),a("br"),t._v("阅读文章吗？")]),t._v(" "),a("div",{staticClass:"button"},[a("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"confim",on:{click:t.redeemFvip}},[t._v("确认")])])])])],1)}),[],!1,null,"1adb0fca",null).exports,c=a(1486),l=a(26),u=a(1475),d=a(1755),p=a(309),m=a(1480),v=a(1752),f=a(1546),h=a(1544),_=a(1756),g={props:{modalvisible:{type:Boolean,default:!1},parentdata:{type:Object,default:function(){return{}}}},data:function(){return{searchText:"",page:1,limit:20,dataList01:[],dataList02:[],loading:!1,listCount:0,isMore:!0,isMoreLoading:!1}},computed:{restdata:function(){return this.parentdata}},watch:{restdata:{handler:function(t,e){(0===this.parentdata.modaltype||1===this.parentdata.modaltype)&&this.getColumnList()},deep:!0}},methods:{getColumnList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={post_id:t.parentdata.id,column_name:t.searchText,type:1,page:t.page,limit:t.limit},e.next=3,Object(u.e)(a).then((function(e){200===e.code&&(t.dataList01=e.data.list.map((function(t){return t.state=!1,t})),t.listCount=e.data.count,t.page+=1,e.data.list.length<t.limit&&(t.isMore=!1))}));case 3:if(!(t.listCount<20&&1===t.parentdata.modaltype)){e.next=9;break}return a.type=2,e.next=7,Object(u.e)(a).then((function(e){200===e.code&&(t.dataList02=e.data.list.map((function(t){return t.state=!1,t})))}));case 7:e.next=10;break;case 9:t.dataList02=[];case 10:case"end":return e.stop()}}),e)})))()},columnAction:function(t,e){var a=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={post_id:a.parentdata.id,column_id:e.id},!a.loading){n.next=4;break}return a.$message.warn("请勿频繁操作"),n.abrupt("return",!1);case 4:if(a.loading=!0,""!==e.status||0!==t){n.next=9;break}return n.next=8,Object(u.c)(i).then((function(t){200===t.code&&(a.$message.success("文章收录成功"),a.dataList01.forEach((function(t,n){t.id===e.id&&a.$set(a.dataList01[n],"status","1")})),a.loading=!1)})).catch((function(t){a.$message.error(t.msg),a.loading=!1}));case 8:return n.abrupt("return",!1);case 9:if(""!==e.status||1!==t){n.next=13;break}return n.next=12,Object(u.w)(i).then((function(t){200===t.code&&(a.$message.success("投稿成功"),a.dataList02.forEach((function(t,n){t.id===e.id&&a.$set(a.dataList02[n],"status","1")})),a.loading=!1)})).catch((function(t){a.$message.error(t.msg),a.loading=!1}));case 12:return n.abrupt("return",!1);case 13:if("1"!==e.status||0!==t){n.next=17;break}return n.next=16,Object(u.t)(i).then((function(t){200===t.code&&(a.dataList01.forEach((function(t,n){t.id===e.id&&a.$set(t,"status","")})),a.$message.success("文章移除成功"),a.loading=!1)})).catch((function(t){a.$message.error(t.msg),a.loading=!1}));case 16:return n.abrupt("return",!1);case 17:if(("0"!==e.status||0!==t)&&("0"!==e.status&&"1"!==e.status||1!==t)){n.next=21;break}return n.next=21,Object(u.a)(i).then((function(n){200===n.code&&(a.$message.success("文章撤回成功"),0===t?(a.dataList01.forEach((function(t,n){t.id===e.id&&a.$set(a.dataList01[n],"status","2")})),a.loading=!1):(a.dataList02.forEach((function(t,n){t.id===e.id&&a.$set(a.dataList02[n],"status","2")})),a.loading=!1))})).catch((function(t){a.$message.error(t.msg),a.loading=!1}));case 21:case"end":return n.stop()}}),n)})))()},searchColumn:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={post_id:t.parentdata.id,column_name:t.searchText,type:1,page:1,limit:t.limit},t.dataList01=[],e.next=4,Object(u.e)(a).then((function(e){200===e.code&&(t.dataList01=e.data.list,t.listCount=e.data.count)}));case 4:case"end":return e.stop()}}),e)})))()},keySearchColumn:function(t){13===t.keyCode&&this.searchColumn()},closeModal:function(){this.page=1,this.$emit("closeColumnModal",!1)},mouseEnterAction:function(t,e){t.state=e},createColumn:function(){this.$router.push({path:"/column/add"})},scrollLoadMore:function(t){return!!this.isMore&&!this.isMoreLoading&&void(t.target.scrollTop+20>t.target.scrollHeight-t.target.offsetHeight&&this.gethomeClipped())},gethomeClipped:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isMoreLoading=!0,a={post_id:t.parentdata.id,column_name:t.searchText,type:1,page:t.page,limit:t.limit},e.next=4,Object(u.e)(a).then((function(e){var a=e.data.list.map((function(t){return t.state=!1,t}));t.dataList01=t.dataList01.concat(a),e.data.list.length<t.limit?t.isMore=!1:(t.isMore=!0,t.page+=1)}));case 4:t.isMoreLoading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},b=(a(1790),Object(r.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"artical-column-modal",attrs:{title:t.parentdata.title,footer:null,visible:t.modalvisible},on:{cancel:t.closeModal}},[a("div",{staticClass:"artical-column-wrapper"},[a("div",{staticClass:"column-header"},[a("div",{staticClass:"input"},[a("span",{staticClass:"search",on:{click:t.searchColumn}},[a("a-icon",{attrs:{type:"search"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"搜索我管理/创建的专辑"},domProps:{value:t.searchText},on:{keydown:function(e){return t.keySearchColumn(e)},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"newbuild",on:{click:t.createColumn}},[t._v("+ 创建专辑")])]),t._v(" "),a("div",{ref:"scrollmodal",staticClass:"column-body"},[a("div",{staticClass:"wrapper scroll-view",on:{scroll:t.scrollLoadMore}},[t.dataList01.length>0?[a("div",{staticClass:"title"},[t._v("\n              我管理的专辑\n            ")]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"my-column"},t._l(t.dataList01,(function(e,n){return a("div",{key:n,staticClass:"column-item"},[a("div",{staticClass:"item-left"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.column_image_url,alt:""}})]),t._v(" "),a("div",{staticClass:"item-info"},[a("div",{staticClass:"name"},[t._v("\n                        "+t._s(e.column_name)+"\n                      ")]),t._v(" "),a("div",{staticClass:"info"},[t._v("\n                        "+t._s(e.column_follow)+"人关注 · "+t._s(e.column_post)+"篇文章\n                      ")])])]),t._v(" "),a("div",{staticClass:"item-right",on:{mouseover:function(a){return t.mouseEnterAction(e,!0)},mouseout:function(a){return t.mouseEnterAction(e,!1)},click:function(a){return t.columnAction(0,e)}}},[""===e.status?a("a-button",[t._v("\n                      收录\n                    ")]):t._e(),t._v(" "),"0"!==e.status||e.state?t._e():a("a-button",[t._v("\n                      待审核\n                    ")]),t._v(" "),"0"===e.status&&e.state?a("a-button",[t._v("\n                      撤回\n                    ")]):t._e(),t._v(" "),"1"!==e.status||e.state?t._e():a("a-button",[t._v("\n                      已收录\n                    ")]),t._v(" "),"1"===e.status&&e.state?a("a-button",[t._v("\n                      移除\n                    ")]):t._e(),t._v(" "),"2"===e.status?a("a-button",[t._v("\n                      已撤回\n                    ")]):t._e()],1)])})),0)])]:t._e(),t._v(" "),0==t.dataList01.length&&0==t.parentdata.modaltype||0==t.dataList01.length&&0==t.dataList02.length&&1==t.parentdata.modaltype?[a("div",{staticClass:"content"},[a("div",{staticClass:"null"},[a("img",{attrs:{src:"/images/column_null.png",alt:""}}),t._v(" "),a("p",{staticClass:"null-txt"},[t._v("\n                  暂无结果，快去"),a("span",{on:{click:t.createColumn}},[t._v("创建专辑")]),t._v("吧~\n                ")])])])]:t._e(),t._v(" "),t.dataList02.length>0&&1==t.parentdata.modaltype?a("div",{staticClass:"title"},[t._v("\n            推荐专辑\n          ")]):t._e(),t._v(" "),t.dataList02.length>0&&1==t.parentdata.modaltype?a("div",{staticClass:"content"},[a("div",{staticClass:"intro-column"},t._l(t.dataList02,(function(e,n){return a("div",{key:n,staticClass:"column-item"},[a("div",{staticClass:"item-left"},[a("div",{staticClass:"avatar"},[a("img",{staticStyle:{color:"#fff"},attrs:{alt:e.column_name,src:e.column_image_url}})]),t._v(" "),a("div",{staticClass:"item-info"},[a("div",{staticClass:"name"},[t._v("\n                      "+t._s(e.column_name)+"\n                    ")]),t._v(" "),a("div",{staticClass:"info"},[t._v("\n                      "+t._s(e.column_follow)+"人关注 · "+t._s(e.column_post)+"篇文章\n                    ")])])]),t._v(" "),a("div",{staticClass:"item-right",on:{mouseover:function(a){return t.mouseEnterAction(e,!0)},mouseout:function(a){return t.mouseEnterAction(e,!1)},click:function(a){return t.columnAction(1,e)}}},[""===e.status?a("a-button",[t._v("\n                    投稿\n                  ")]):t._e(),t._v(" "),"0"!==e.status||e.state?t._e():a("a-button",[t._v("\n                    待审核\n                  ")]),t._v(" "),"0"===e.status&&e.state?a("a-button",[t._v("\n                    撤回\n                  ")]):t._e(),t._v(" "),"1"!==e.status||e.state?t._e():a("a-button",[t._v("\n                    已收录\n                  ")]),t._v(" "),"1"===e.status&&e.state?a("a-button",[t._v("\n                    撤回\n                  ")]):t._e(),t._v(" "),"2"===e.status?a("a-button",[t._v("\n                    已撤回\n                  ")]):t._e()],1)])})),0)]):t._e()],2)])])])],1)}),[],!1,null,"2a4dba56",null).exports),w={props:{visible:{type:Boolean,default:!0}},methods:{closeModal:function(){this.$emit("payFinishResult")}}},y=(a(1791),Object(r.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"paymennt-modal-container"},[a("p",{staticClass:"modal-header"},[t._v("\n    确认是否完成支付\n  ")]),t._v(" "),a("p",{staticClass:"modal-body"},[a("span",{staticClass:"btn01",on:{click:t.closeModal}},[t._v("已完成支付")]),t._v(" "),a("span",{staticClass:"btn02",on:{click:t.closeModal}},[t._v("未完成支付")])]),t._v(" "),a("p",{staticClass:"modal-footer"},[t._v("\n    客服电话：400-156-9866\n  ")])]):t._e()}),[],!1,null,"164de550",null).exports),C={props:{code:{type:String,default:""}},data:function(){return{wechatImg:"",detail:{post_title:"",amount:"0.00"}}},computed:{orderTitle:function(){var t="";if(this.detail.post_title.length>50){var e=this.detail.post_title.slice(0,45),a=this.detail.post_title.slice(-6);t="".concat(e,"···").concat(a)}else t=this.detail.post_title;return t}},created:function(){var t="".concat(this.globalConfig.fbAppSite,"/payment?code=").concat(this.code,"&name=post");this.wechatImg=this.globalConfig.mySite+"/qrcode?url="+encodeURIComponent(t),this.getOrderInfo()},methods:{getOrderInfo:function(){var t=this;if(!this.code)return!1;Object(u.o)({code:this.code}).then((function(e){var a=e.data;t.detail=a}))}}},k=(a(1792),Object(r.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payread-modal-wrap"},[a("div",{staticClass:"title"},[t._v("\n    《"+t._s(t.orderTitle)+"》\n  ")]),t._v(" "),a("p",[a("b",[t._v("￥")]),t._v(t._s(t.detail.amount))]),t._v(" "),a("div",{staticClass:"qr-code"},[a("img",{attrs:{src:t.wechatImg,alt:""}})]),t._v(" "),a("div",{staticClass:"plateform"},[t._v("\n    使用  \n    "),a("svg-icon",{attrs:{"icon-class":"wechat-pay"}}),t._v(" 微信 或 \n    "),a("svg-icon",{attrs:{"icon-class":"ali-pay"}}),t._v(" 支付宝  扫码支付\n  ")],1)])}),[],!1,null,"b2fc4298",null).exports),D=a(1532),x=a(1757),j=a(14),I={components:{ArticleItem:m.a,CommentItem:v.a,BottomCommentItem:f.a,floatingTool:p.a,ArticalContent:h.a,JobItem:_.a,ColumnModal:b,PaymentModal:y,ReportModal:d.a,PayreadMask:k,ApplyPayModal:D.a,FvipMsgTips:x.a,useFvipRead:o},layout:"articles",asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var a,n,i,s,r,o,c,l,d,p,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,n=t.error,i=t.query,s=t.redirect,r=a.id?a:i,o="",c=!1,l=!1,r.id&&(o=r.id.includes(".")?r.id.split(".")[0]:r.id),d={},e.next=9,Object(u.l)({id:o}).then((function(t){d=t})).catch((function(t){if(423===t.code)s({path:"/blank"});else{if(424!==t.code)return n({statusCode:404,message:t.msg});s({path:"/authtic"})}}));case 9:return(p=d.data)&&p.post_title&&(p.post_list&&p.post_list.length>0&&(l=!0),p&&p.category&&p.category.length>0&&(m=p.category.map((function(t){return t.name})),c=m.includes("招聘")),p&&p.post_title&&(v=p.post_title).length>50&&(p.post_title=v.slice(0,50)+"...")),e.abrupt("return",{articalId:o,jobPosition:c,serverData:p,serverMemuRender:l});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{articalFalge:!1,collectFalge:!1,articalId:"",host_name:"https://www.freebuf.com",height:64,visible:!1,is_anonymous:!1,contentKey:(new Date).getTime(),dymicData:{post_author:{follow_num:0,username:"",desc:"",user_pic:"",post_num:0,comment_num:0,user_level:0,user_url:"",follow_status:!1,like_status:!1,collect_status:!1,author_role:"",post_list:[]},is_report:!1,reward:!1,job:!1,recommend_job:[],post_content:"",paid_read:!1,paid_read_amount:"",read_status:!0,ratio:""},sideShareTimer:null,showSharePanel:!1,visibleReportModal:!1,confirmLoading:!1,visibleJobModal:!1,jobModalType:1,reportForm:{name:"",phone:"",email:"",company:"",trade:"",job:""},columnDataList:[],slideMoreColumn:!1,slideForMoreBtn:!1,tempColumnPage:1,tempColumnLimit:5,tempColumnLock:!1,postAdminColumn:[],postIncludeColumn:[],sort:1,currentPage:1,commentModule:{total_count:0,data_list:[]},handlerTimer:null,shareTimer:null,isMoreHandler:!1,isShareHandler:!1,otherPanelType:1,articalMenuData:{currId:"h3-1",dataList:[]},fixedDocument:!1,focusComment:!1,commentMsg:"",inputMsg:!0,showBindTelphone:!1,wechatImg:"",visibleRewardModal:!1,rewardNumber:0,rewardWarn:!1,rewardType:"type1",showPayModal:!1,resDataTimer:null,payResult:!1,columnModalData:{},collectColumnModal:!1,manageColumnModal:!1,adListData:[],recommendData:[],showVersionGuide:!1,payreadModal:!1,orderCodeId:"",applyModalVal:0,tipVisible:!1,modalTipText:"",reachBottom:!1,tooltopTimer:null,fvipbannerIsDisplayed:!1,showFvipTips:!1,vipinfoData:null,memberReadingCouponTatal:0}},computed:{adminBackUrl:function(){return"https://manage.freebuf.com"},oauth:function(){if(document){var t=document.location.href;return"".concat(this.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(t))}return"".concat(this.globalConfig.fbPcSite,"/oauth")},userInfoData:function(){return this.$store.state.userInfo.userInfo},isParty:function(){return this.$store.state.userInfo.isParty},userName:function(){return this.$store.state.userInfo.userInfo.username},authorFocusStatus:function(){return this.dymicData.post_author.follow_status},tempColumnDataList:function(){return this.postAdminColumn.concat(this.postIncludeColumn)},isLogin:function(){return!!this.$store.state.userInfo.userInfo.username}},watch:{userInfoData:{handler:function(){},deep:!0,immediate:!0},isLogin:{handler:function(t){this.getUnusedCardVouchers()},immediate:!0}},created:function(){if(this.serverMemuRender){var t=this.serverData.post_list;this.assignCateList(t)}this.getDymicPageInfo(),this.getColumnAction(),this.getActivityVipInfo()},mounted:function(){var t=this;this.getVersionGuide();var e={id:this.articalId,order:this.sort,page:1};this.getCommentData(e),window.addEventListener("scroll",this.scrollPageAction),this.wechatImg=this.globalConfig.mySite+"/qrcode?url="+location.href,this.$nextTick((function(){setTimeout((function(){JSON.parse(Object(j.d)("hide_fb_detail_tooltips")||null)||(t.articalFalge=!0,t.collectFalge=!0,Object(j.g)("hide_fb_detail_tooltips",!0,30),t.hideTooltipFn())}),1e3)}))},beforeDestroy:function(){window.removeEventListener("scroll",(function(){return!1})),this.tooltopTimer&&window.clearTimeout(this.tooltopTimer),this.tooltopTimer=null},methods:{viewPersonalPage:function(t){window.open("/author/".concat(t))},viewPlan:function(){window.open("https://www.freebuf.com/articles/273280.html")},updateData:function(){window.location.reload()},getUnusedCardVouchers:function(){var t=this;Object(i.h)({module:"fb-article",status:0,page:1,page_size:20}).then((function(e){t.memberReadingCouponTatal=e.data.total}))},useMemberReadingVouchers:function(){this.memberReadingCouponTatal?this.$refs.useFvipReadRefs.open():window.open("/fvip")},getActivityVipInfo:function(){var t=this;Object(c.a)().then((function(e){var a=new Date(e.data.current_time).getTime(),n=new Date(e.data.activity_info.opened_at).getTime(),i=new Date(e.data.activity_info.closed_at).getTime();t.fvipbannerIsDisplayed=a>n&&a<i}))},skipActivePage:function(){window.open("/events")},hideTooltipFn:function(){var t=this;this.tooltopTimer=setTimeout((function(){t.articalFalge=!1,t.collectFalge=!1}),5e3)},onAnonymousChange:function(t){this.is_anonymous=t.target.checked},openPdf:function(){if(this.userName)"2"!==this.dymicData.is_report.fee_type||this.isParty?window.open("".concat(this.host_name,"/preview/").concat(this.dymicData.is_report.no)):this.visible=!0;else{var t=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login??redirect_url=").concat(encodeURIComponent(t))}},getDymicPageInfo:function(){var t=this;Object(u.n)({id:this.articalId}).then((function(e){var a=e.data;if(t.dymicData=a,a.paid_read&&(t.showFvipTips=!0),a.paid_read&&a.read_status&&(t.serverData.post_content=a.post_content,t.contentKey=(new Date).getTime(),a.post_list&&a.post_list.length>0)){var n=JSON.parse(a.post_list);t.assignCateList(n)}})),Object(l.b)().then((function(e){var a=e.data;t.vipinfoData=a})),Object(u.k)().then((function(e){var a=e.data;t.adListData=a})),Object(u.s)({id:this.articalId}).then((function(e){var a=e.data;t.recommendData=a}))},rewardAuthor:function(){var t=this.userInfoData.username;if(t)t!==this.dymicData.post_author.username?(this.visibleRewardModal=!0,this.rewardType="type1"):this.$message.info("请不要自己打赏自己哦~");else{var e=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login??redirect_url=").concat(encodeURIComponent(e))}},cancelPayment:function(){this.showPayModal=!1,this.payResult=!0,window.clearTimeout(this.resDataTimer),this.resDataTimer=null},rewardHandleCancel:function(){this.visibleRewardModal=!1,this.rewardType=""},randomReward:function(){var t=parseInt(20*Math.random()+1,10),e=parseInt(10*Math.random(),10);this.rewardNumber="".concat(t,".").concat(e)},submitReward:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,i,s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){return(r=Object(n.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)({order_id:i.oder_id}).then((function(t){if(200===t.code){a.payResult=!0,window.clearTimeout(a.resDataTimer),a.resDataTimer=null,a.rewardType="type2",a.visibleRewardModal=!0;var n={pay_user_pic:a.userInfoData.user_pic,pay_user_url:e.globalConfig.hostName+"/author/"+a.userInfoData.username};a.dymicData.reward.pay_list.push(n),a.dymicData.reward.num+=1}}));case 2:a.payResult||(a.resDataTimer=setTimeout((function(){s()}),2e3));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)},s=function(){return r.apply(this,arguments)},a=t,/^\d{0,2}([\b]*|\.|\.\d{0,1}|$)$/.test(t.rewardNumber)){e.next=6;break}return t.$message.error("请输入合法的金额数值[输入1-20之间的打赏金额]!"),e.abrupt("return",!1);case 6:if(!(Number(t.rewardNumber)>20||Number(t.rewardNumber)<1)){e.next=11;break}return t.rewardWarn=!0,e.abrupt("return",!1);case 11:t.rewardWarn=!1;case 12:return t.visibleRewardModal=!1,i=null,e.next=16,Object(u.z)({id:t.articalId,money:t.rewardNumber}).then((function(e){200===e.code&&(t.$message.success("创建订单成功,稍后页面跳转到支付页!"),i=e.data,window.open(e.data.url,"_blank"))})).then((function(){setTimeout((function(){t.showPayModal=!0}),2e3)}));case 16:t.resDataTimer=setTimeout((function(){s()}),300);case 17:case"end":return e.stop()}}),e)})))()},focusTextChange:function(t,e){var a=e.target.textContent.trim(),n=e.target.className.split(" ");if(t>0&&"已关注"===a){e.target.textContent="取消关注";var i=n.indexOf("isFocus");n.splice(i,1),e.target.className=n.join(" ")}0===t&&"取消关注"===a&&(e.target.textContent="已关注",n.push("isFocus"),e.target.className=n.join(" ")),"关注"===a&&(e.target.textContent="关注")},focusAction:function(t,e){var a=this;if(this.userName){var n={username:this.dymicData.post_author.username,type:t?2:1};Object(u.j)(n).then((function(n){if(200===n.code){var i=t?"取消关注":"关注成功";a.$message.success(i),a.dymicData.post_author.follow_status=!a.dymicData.post_author.follow_status,e.target.textContent=t?"关注":"已关注"}})).catch((function(t){a.$message.error(t.msg)}))}else{var i=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login??redirect_url=").concat(encodeURIComponent(i))}},approveAction:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dymicData.post_author.like_status?2:1,n={id:t.articalId,type:a},e.next=4,Object(u.x)(n).then((function(e){200===e.code&&(1===a?(""===t.dymicData.like||void 0===t.dymicData.like||null===t.dymicData.like?t.dymicData.like=0:t.dymicData.like=Number(t.dymicData.like),t.dymicData.like+=1,t.dymicData.post_author.like_status=!0):(t.dymicData.like-=1,t.dymicData.post_author.like_status=!1))}));case 4:case"end":return e.stop()}}),e)})))()},jumpScrollComment:function(){var t=document.getElementsByClassName("comment")[0].offsetTop-80;document.documentElement.scrollTop=t,document.body.scrollTop=t},showSharePanelFuc:function(t){var e=this;clearTimeout(this.sideShareTimer),t?this.showSharePanel=t:this.sideShareTimer=setTimeout((function(){e.showSharePanel=t}),300)},copyPageLink:function(){var t=document.createElement("input");t.id="copyInput",t.value=window.location.href,document.body.appendChild(t),t.select();var e=document.execCommand("Copy");t.style.display="none",e&&(this.$message.success("复制链接成功!"),setTimeout((function(){document.body.removeChild(t)}),3e3))},shareAction:function(t){var e={type:t,url:window.location.href,title:"".concat(this.serverData.post_title," 作者：").concat(this.dymicData.post_author.nickname," - FreeBuf网络安全行业门户"),pic:this.serverData.post_picture?this.serverData.post_picture:"https://image.3001.net/images/20200518/15897936863849.png!small"};"weibo"===t?e.appkey="1343713053":"qq"===t&&(e.desc="".concat(this.serverData.post_title," - 作者：").concat(this.dymicData.post_author.nickname,"（想看更多？来FreeBuf互联网安全新媒体：https://www.freebuf.com）"));var a=Object(j.i)(e);window.open(a,"_blank")},jumpForPersonPanel:function(t){var e="";switch(t){case 0:e="".concat(this.dymicData.post_author.username,"?type=article");break;case 1:e="".concat(this.dymicData.post_author.username,"?type=comment");break;case 2:e="".concat(this.dymicData.post_author.username,"?type=follower")}window.open("".concat(this.globalConfig.hostName,"/author/").concat(e))},jumpForAdvertisement:function(t){if(window._hmt.push(["_trackEvent","ad-detail","click","文章详情页-广告",4]),!t.url)return!1;window.open(t.url,"_blank")},jumpArticalDetail:function(t){var e=window.location.origin+t.post_url;window.open(e,"_blank")},getVersionGuide:function(){var t=localStorage.getItem("articaldetailguide");this.showVersionGuide=!t},closeVersionGuide:function(){localStorage.setItem("articaldetailguide",!0),this.showVersionGuide=!1},jumpForTagAction:function(t){if(!t.url)return!1;window.location.href=decodeURIComponent(t.url)},jumpForAdmin:function(){if(!this.adminBackUrl)return!1;var t=this.adminBackUrl+"/article/edit?id="+this.articalId;window.open(t,"_blank")},buyReport:function(){"2"===this.dymicData.is_report.fee_type&&this.dymicData.is_report.outside_url?window.open(this.dymicData.is_report.outside_url,"_blank"):this.$message.warn("报告购买跳转链接异常，请核对后重试！")},downloadReport:function(){if(this.userName)if("1"!==this.dymicData.is_report.fee_type||this.isParty)if("1"===this.dymicData.is_report.collect_status){if(this.visibleReportModal=!this.dymicData.is_report.has_collect,!this.visibleReportModal){var t=this.dymicData.is_report.outside_url;if(t)window.open(t,"_blank");else{var e=Object.assign({},this.reportForm);e.id=this.articalId,this.downloadAction(e)}}}else{var a=this.dymicData.is_report.outside_url;if(a)window.open(a,"_blank");else{var n=Object.assign({},this.reportForm);n.id=this.articalId,this.downloadAction(n)}}else this.visible=!0;else{var i=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login??redirect_url=").concat(encodeURIComponent(i))}},downloadAction:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(u.g)(t).then((function(t){if(200===t.code)if("url"===t.data.type)window.open(t.data.content,"_blank");else if("file"===t.data.type){e.$message.success("提交成功，报告自动下载!");var a=document.createElement("a");a.href="https://www.freebuf.com/fapi/"+t.data.content,a.download=t.data.title,a.style.display="none",document.body.appendChild(a),a.click(),a.remove()}})).catch((function(t){e.$message.error(t.msg)}));case 2:e.visibleReportModal&&e.reportHandleCancel();case 3:case"end":return a.stop()}}),a)})))()},reportHandleCancel:function(){this.visibleReportModal=!1,this.reportForm={name:"",phone:"",email:"",company:"",job:"",position:""}},submitReport:function(){var t=Object.assign({},this.reportForm),e=!0;for(var a in t){if("name"===a&&""===t[a]){this.$message.error("请填写名称"),e=!1;break}if("phone"===a){if(""===t[a]){this.$message.error("请填写手机号"),e=!1;break}if(!/^1[3456789]\d{9}$/.test(t[a])){this.$message.error("手机号码有误，请重填"),e=!1;break}}if("email"===a){if(""===t[a]){this.$message.error("请填写邮箱"),e=!1;break}if(!/^[A-Za-z0-9.-_\u4E00-\u9FA5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t[a])){this.$message.error("请填写正确的邮箱"),e=!1;break}}if("company"===a&&""===t[a]){this.$message.error("请填写公司名称"),e=!1;break}if("trade"===a&&""===t[a]){this.$message.error("请填写您的行业"),e=!1;break}if("job"===a&&""===t[a]){this.$message.error("请填写您的岗位名称"),e=!1;break}}if(!e)return!1;var n=t;n.id=this.articalId,this.downloadAction(n)},sendProfile:function(){if(this.userName){var t=this.dymicData.job.status;1===t?this.$message.warn("您已投递过，请勿重复投递！"):3===t?(this.jobModalType=1,this.visibleJobModal=!0):(this.jobModalType=2,this.visibleJobModal=!0)}else{var e=window.location.href;window.location.href="".concat(this.globalConfig.fbPcSite,"/login??redirect_url=").concat(encodeURIComponent(e))}},editOrLookProfile:function(){window.open(this.globalConfig.mySite+"/profile/resume","_blank")},jobHandleCancel:function(){this.visibleJobModal=!1},sendProfileServer:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t.articalId},e.next=3,Object(u.v)(a).then((function(e){200===e.code&&(t.$message.success("简历投递成功~"),t.visibleJobModal=!1,t.dymicData.job.status=1)})).catch((function(e){t.$message.error(e.msg)}));case 3:case"end":return e.stop()}}),e)})))()},jumpForJobHome:function(){window.open(this.globalConfig.jobSite,"_blank")},getColumnAction:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={post_id:t.articalId,page:t.tempColumnPage,limit:t.tempColumnLimit},e.next=3,Object(u.q)({post_id:t.articalId}).then((function(e){200===e.code&&(t.postAdminColumn=e.data)}));case 3:return e.next=5,Object(u.r)(a).then((function(e){if(200===e.code){var a=e.data.count;a>0?(t.postIncludeColumn=t.postIncludeColumn.concat(e.data.list),t.postIncludeColumn.length<a?(t.tempColumnPage+=1,t.slideForMoreBtn=!0):t.slideForMoreBtn=!1):t.slideForMoreBtn=!1}}));case 5:case"end":return e.stop()}}),e)})))()},updateColumnData:function(){this.collectColumnModal=!1},joinMyColumn:function(t){var e="https://www.freebuf.com/column/"+t.column_id;window.open(e,"_blank")},slideForMore:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tempColumnLock){e.next=3;break}return t.$message.warn("正在请求数据中，请稍后!"),e.abrupt("return",!1);case 3:return t.tempColumnLock=!0,a={post_id:t.articalId,page:t.tempColumnPage,limit:t.tempColumnLimit},e.next=7,Object(u.r)(a).then((function(e){if(200===e.code){var a=e.data.count;a>0?(t.postIncludeColumn=t.postIncludeColumn.concat(e.data.list),t.postIncludeColumn.length<a?(t.tempColumnPage+=1,t.slideForMoreBtn=!0):t.slideForMoreBtn=!1):(t.slideForMoreBtn=!1,t.$message.error("没有更多数据了!")),t.tempColumnLock=!1}})).catch((function(e){t.$message.error(e.msg),t.tempColumnLock=!1}));case 7:case"end":return e.stop()}}),e)})))()},jumpToPersonal:function(t){window.open(t,"_blank")},changeSortRule:function(){this.sort=1===this.sort?2:1,this.commentModule={},this.currentPage=1;var t={id:this.articalId,order:this.sort,page:1};this.getCommentData(t)},renderTotalPage:function(t,e){return"共".concat(t,"条")},hideSiblingAction:function(t){this.commentModule.data_list.forEach((function(e){return e.hideInput=e.id===t,e}))},getCommentData:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.commentModule={},a.next=3,Object(u.m)(t).then((function(t){var a=t.data.data_list.map((function(t){return t.hideInput=!1,t}));e.commentModule={total_count:t.data.total_count,data_list:a}}));case 3:case"end":return a.stop()}}),a)})))()},onChangePagination:function(t){this.currentPage=t,this.jumpScrollComment();var e={id:this.articalId,order:this.sort,page:t};this.getCommentData(e)},anwserCommentAction:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.post_id=e.articalId,t.parent="0",a.next=4,Object(u.A)(t).then((function(t){200===t.code&&(e.$message.success("恭喜，发布成功~"),e.commentModule.data_list.push(t.data),e.commentModule.total_count+=1,e.$refs.childInput.cancel())})).catch((function(t){422===t.code?(e.modalTipText=t.msg,e.tipVisible=!0):e.$message.error(t.msg)}));case 4:case"end":return a.stop()}}),a)})))()},handleTipCancel:function(){var t=this;this.tipVisible=!1,setTimeout((function(){t.modalTipText=""}),1e3)},changeCommentNumber:function(t){this.commentModule.total_count+=t},assignCateList:function(t){this.articalMenuData.dataList=t},articalScroll:function(t,e){if("h2"===t&&(this.articalMenuData.currId=e),""===e)return!1;var a=document.getElementById(e);if(!a)return!1;var n=a.offsetTop+100;try{window.scrollTo({top:n,behavior:"smooth"})}catch(t){window.scroll(0,n)}},scrollPageAction:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.getElementsByClassName("articles-layout-header")[0],a=document.getElementsByClassName("header-container")[0],n=t;n>this.height?(this.height=n,e.style="\n          width:100%;\n          position:fixed;\n          transform: translateY(-100%);\n          transition: transform .3s cubic-bezier(.645,.045,.355,1);\n          z-index:-1;\n        ",a.style="\n          width:100%;\n          position:absolute;\n          transform: translateY(0);\n          transition: transform .3s cubic-bezier(.645,.045,.355,1);\n          z-index:1000;\n        "):(this.height=n,e.style="\n          width:100%;\n          position:fixed;\n          transform: translateY(0);\n          transition: transform .3s cubic-bezier(.645,.045,.355,1);\n          z-index:1000;\n        ",a.style="\n          width:100%;\n          position:absolute;\n          transform: translateY(-100%);\n          transition: transform .3s cubic-bezier(.645,.045,.355,1);\n          z-index:-1;\n        ");var i=document.querySelector(".module-container");if(null==i)return!1;var s=i.offsetTop;this.fixedDocument=t>s-80,document.documentElement.scrollTop+document.documentElement.clientHeight===document.documentElement.scrollHeight?this.reachBottom=!0:this.reachBottom=!1},showCommentRegion:function(t){this.userName&&this.userInfoData.phone&&(this.focusComment=!this.focusComment,this.$nextTick((function(){this.$refs.commentRegion.focus()})))},bindPhoneNumber:function(){window.open("https://account.tophant.com/user/security/","_blank")},pushMsgOn:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=9;break}if(e.commentMsg&&""!==e.commentMsg.trim()&&"&nbsp;"!==e.commentMsg){a.next=4;break}return e.$message.error("请至少写句话吧~"),a.abrupt("return",!1);case 4:return n={content:e.commentMsg,notice:e.inputMsg?1:0,post_id:e.articalId,parent:"0",is_anonymous:e.is_anonymous?1:0},a.next=7,Object(u.A)(n).then((function(t){200===t.code&&(e.$message.success("恭喜，发布成功~"),e.commentModule.data_list.unshift(t.data),e.inputMsg=!0,e.commentMsg="")})).catch((function(t){422===t.code?(e.modalTipText=t.msg,e.tipVisible=!0):e.$message.error(t.msg)}));case 7:a.next=12;break;case 9:e.inputMsg=!0,e.commentMsg="",e.focusComment=!1;case 12:case"end":return a.stop()}}),a)})))()},changeCheck:function(t){this.inputMsg=t.target.checked},isShowBottomPanel:function(t){var e=this;clearTimeout(this.handlerTimer),t?e.isMoreHandler=!0:this.handlerTimer=setTimeout((function(){clearTimeout(e.handlerTimer),e.isMoreHandler=!1}),300)},isHoverBottomPanle:function(){clearTimeout(this.handlerTimer),this.isMoreHandler=!0},isShowSharePanel:function(t){var e=this;clearTimeout(this.shareTimer),t?e.isShareHandler=!0:this.shareTimer=setTimeout((function(){clearTimeout(e.shareTimer),e.isShareHandler=!1}),300)},changeSharePanel:function(){clearTimeout(this.shareTimer),this.isShareHandler=!0},collectArtical:function(){var t=this;if(!this.userName){var e=window.location.href;return window.location.href="".concat(this.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(e)),!1}var a=this.dymicData.post_author.collect_status;Object(u.i)({id:this.articalId,type:a?2:1}).then((function(e){if(200===e.code){var n=a?"取消收藏成功":"收藏成功";t.dymicData.post_author.collect_status=!a,t.dymicData.collect_count=a?Number(t.dymicData.collect_count)-1:Number(t.dymicData.collect_count)+1,t.$message.success(n)}}))},collectColumn:function(t){if(!this.userName){var e=window.location.href;return window.location.href="".concat(this.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(e)),!1}this.columnModalData={id:this.articalId,title:t?"投稿管理":"收录到我管理的专辑",modaltype:t?1:0},this.collectColumnModal=!0},createPayOrder:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,i,s,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return(l=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.o)({code:s}).then((function(t){"1"===t.data.status&&(i.payreadModal=!1,i.orderCodeId="",r=!0)}));case 2:r?(window.clearTimeout(o),o=null,window.location.reload()):o=setTimeout((function(){c()}),2500);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)},c=function(){return l.apply(this,arguments)},t.userName){e.next=6;break}return a=window.location.href,window.location.href="".concat(t.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(a)),e.abrupt("return",!1);case 6:return i=t,s="",r=!1,o=null,e.next=12,Object(u.p)({post_id:t.articalId}).then((function(e){200===e.code&&(s=e.data.code,t.orderCodeId=e.data.code,o=setTimeout((function(){i.payreadModal=!0,c()}),2e3))})).catch((function(e){t.$message.error(e.msg)}));case 12:case"end":return e.stop()}}),e)})))()},toBeMember:function(){if(!this.userName){var t=window.location.href;return window.location.href="".concat(this.globalConfig.fbPcSite,"/login?redirect_url=").concat(encodeURIComponent(t)),!1}var e="https://www.freebuf.com/FVIP/"+this.articalId;window.open(e,"_blank")},joinCreate:function(){this.applyModalVal=2},resetApplyVal:function(){this.applyModalVal=0},closeFvipTips:function(){this.showFvipTips=!1}},head:function(){var t=[],e=[];this.serverData&&this.serverData.category&&this.serverData.category.length>0&&(t=this.serverData.category.map((function(t){return t.slug}))),this.serverData&&this.serverData.tag&&this.serverData.tag.length>0&&(e=this.serverData.tag.map((function(t){return t.name})));var a=t.concat(e).join(",");return{title:this.serverData.post_title+" - FreeBuf网络安全行业门户",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width,inital-scal=1"},{hid:"description",name:"description",content:this.serverData.post_desc},{name:"keywords",content:a}],link:[{rel:"stylesheet",href:"/style/editor.css"}]}}},P=(a(1793),a(1794),Object(r.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"artical-detail-page"}},[n("floating-tool"),t._v(" "),n("div",{ref:"currentHeader",staticClass:"page-header"},[n("div",{staticClass:"header-container"},[n("div",{staticClass:"page-head-wrapper"},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.serverData.post_title)}}),t._v(" "),n("ul",{staticClass:"wrpper"},[n("li",{staticClass:"auth"},[n("a",{attrs:{href:t.dymicData.post_author.user_url}},[n("span",{staticClass:"img"},[n("img",{attrs:{src:t.dymicData.post_author.user_pic}})]),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(t.dymicData.post_author.nickname))])])]),t._v(" "),n("li",{staticClass:"collet"},[n("span",{staticClass:"focus",class:t.dymicData.post_author.follow_status?"isFocus":"",on:{mouseenter:function(e){return t.focusTextChange(1,e)},mouseleave:function(e){return t.focusTextChange(0,e)},click:function(e){return t.focusAction(t.dymicData.post_author.follow_status,e)}}},[t._v("\n                "+t._s(t.authorFocusStatus?"已关注":"关注")+"\n              ")])]),t._v(" "),t.dymicData.reward?n("li",{staticClass:"award"},[n("span",{on:{click:t.rewardAuthor}},[t._v("赞赏支持")])]):t._e()])])])]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"aside-left"},[n("div",{staticClass:"aside-left-wrapper"},[t.serverData&&t.serverData.category?n("ul",{staticClass:"tabs-panel"},t._l(t.serverData.category,(function(e,a){return n("li",{key:a,staticClass:"tab",class:0==a?"active":""},[n("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.name))])])})),0):t._e(),t._v(" "),n("div",{staticClass:"approve-panel"},[n("div",{staticClass:"approve"},[n("a-tooltip",{attrs:{"overlay-class-name":"tooltip-view","get-popup-container":function(t){return t.parentElement},placement:"right"}},[n("template",{slot:"title"},[n("span",[t._v("喜欢")])]),t._v(" "),n("div",{class:t.dymicData.post_author.like_status?"active":"",on:{click:t.approveAction}},[n("a-badge",{attrs:{count:t.dymicData.like}},[n("a-icon",{attrs:{type:"heart"}})],1)],1)],2)],1),t._v(" "),n("div",{staticClass:"approve"},[n("a-tooltip",{attrs:{"overlay-class-name":"tooltip-view","get-popup-container":function(t){return t.parentElement},visible:t.articalFalge,placement:"right"}},[n("template",{slot:"title"},[n("span",[t._v("收藏一下～")])]),t._v(" "),t.articalFalge?n("div",{class:{active:t.dymicData.post_author.collect_status},on:{click:t.collectArtical}},[n("a-badge",{attrs:{count:t.dymicData.collect_count}},[n("a-icon",{attrs:{type:"star"}})],1)],1):t._e()],2),t._v(" "),t.articalFalge?t._e():n("a-tooltip",{attrs:{"overlay-class-name":"tooltip-view","get-popup-container":function(t){return t.parentElement},placement:"right"}},[n("template",{slot:"title"},[n("span",[t._v("收藏一下～")])]),t._v(" "),t.articalFalge?t._e():n("div",{class:{active:t.dymicData.post_author.collect_status},on:{click:t.collectArtical}},[n("a-badge",{attrs:{count:t.dymicData.collect_count}},[n("a-icon",{attrs:{type:"star"}})],1)],1)],2)],1),t._v(" "),n("div",{staticClass:"approve"},[n("a-tooltip",{attrs:{"overlay-class-name":"tooltip-view","get-popup-container":function(t){return t.parentElement},visible:t.collectFalge,placement:"right"}},[n("template",{slot:"title"},[n("span",[t._v("可以收录到专辑噢～")])]),t._v(" "),t.collectFalge?n("div",{on:{click:function(e){return t.collectColumn(!1)}}},[n("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"collect"}})],1):t._e()],2),t._v(" "),n("a-tooltip",{attrs:{"overlay-class-name":"tooltip-view","get-popup-container":function(t){return t.parentElement},placement:"right"}},[n("template",{slot:"title"},[n("span",[t._v("可以收录到专辑噢～")])]),t._v(" "),t.collectFalge?t._e():n("div",{on:{click:function(e){return t.collectColumn(!1)}}},[n("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"collect"}})],1)],2)],1),t._v(" "),t.serverData.share_status?n("div",{staticClass:"approve"},[n("div",{staticClass:"share-draw",on:{mouseover:function(e){return t.showSharePanelFuc(!0)},mouseout:function(e){return t.showSharePanelFuc(!1)}}},[n("a-icon",{attrs:{type:"share-alt"}})],1)]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSharePanel,expression:"showSharePanel"}],on:{mousemove:function(e){return t.showSharePanelFuc(!0)},mouseout:function(e){return t.showSharePanelFuc(!1)}}},[n("a-popover",{attrs:{placement:"left"}},[n("template",{slot:"content"},[n("img",{staticStyle:{display:"inline-block",width:"76px",height:"76px",vertical:"top"},attrs:{src:t.wechatImg}})]),t._v(" "),n("div",{staticClass:"approve"},[n("div",{staticClass:"share-draw"},[n("a-icon",{attrs:{type:"wechat"}})],1)])],2),t._v(" "),n("div",{staticClass:"approve"},[n("div",{staticClass:"share-draw",on:{click:function(e){return t.shareAction("weibo")}}},[n("a-icon",{attrs:{type:"weibo-circle"}})],1)]),t._v(" "),n("div",{staticClass:"approve"},[n("div",{staticClass:"share-draw",on:{click:function(e){return t.shareAction("qq")}}},[n("a-icon",{attrs:{type:"qq"}})],1)]),t._v(" "),n("div",{staticClass:"approve"},[n("div",{staticClass:"share-draw",on:{click:t.copyPageLink}},[n("a-icon",{attrs:{type:"link"}})],1)])],1)])])]),t._v(" "),n("div",{staticClass:"main"},[t.showFvipTips&&t.dymicData.read_status&&t.vipinfoData&&t.vipinfoData.vip?n("FvipMsgTips",{attrs:{type:"article",vipinfo:t.vipinfoData},on:{close:t.closeFvipTips}}):t._e(),t._v(" "),n("div",{staticClass:"main-warpper"},[n("div",{staticClass:"artical-header"},[n("div",{staticClass:"title"},[n("span",{staticClass:"title-span",domProps:{innerHTML:t._s(t.serverData.post_title)}}),t._v(" "),t.dymicData.vip_read?n("a",{staticClass:"vip-text",attrs:{href:t.globalConfig.hostName+"/member",target:"_blank"}}):t._e(),t._v(" "),t.serverData.is_jb&&!t.serverData.is_rmb?n("a",{staticClass:"gold",attrs:{href:t.globalConfig.hostName+"/fevents/273278.html",target:"_blank"}},[t._v("金币")]):t._e(),t._v(" "),t.jobPosition?n("a",{staticClass:"employee",attrs:{href:""+t.globalConfig.jobSite,target:"_blank"}},[t._v("招聘")]):t._e(),t._v(" "),t.serverData.is_original||t.serverData.is_reward||"292484"==t.articalId?n("div",{staticClass:"origin-reward"},[t.serverData.is_original||"292484"==t.articalId?n("span",{staticClass:"origin"}):t._e(),t._v(" "),t.serverData.is_reward||"292484"==t.articalId?n("span",{staticClass:"reward"}):t._e()]):t._e()]),t._v(" "),n("div",{staticClass:"author-info"},[n("div",{staticClass:"author-left"},[n("a",{staticClass:"author",attrs:{href:t.dymicData.post_author.user_url}},[n("a-icon",{attrs:{type:"user"}}),t._v(t._s(t.dymicData.post_author.nickname)+"\n                  "),"admin"===t.userInfoData.role?n("b",[t._v("("+t._s(t.dymicData.post_author.username)+")")]):t._e(),t._v(" "),"company"==t.dymicData.post_author.author_role?n("svg-icon",{staticClass:"sign",attrs:{"icon-class":"company"}}):t._e()],1),t._v(" "),n("span",{staticClass:"date",staticStyle:{margin:"0 15px"}},[n("a-icon",{attrs:{type:"clock-circle"}}),t._v(t._s(t.serverData.post_date)+"\n                ")],1),t._v(" "),n("span",{staticClass:"review",staticStyle:{"margin-right":"15px"}},[n("a-icon",{attrs:{type:"fire"}}),t._v(t._s(t.dymicData.read_count)+"\n                ")],1),t._v(" "),"admin"===t.userInfoData.role?n("span",{staticClass:"edit cursor",on:{click:t.jumpForAdmin}},[n("a-icon",{attrs:{type:"edit"}}),t._v("编辑\n                ")],1):t._e()]),t._v(" "),n("div",[t.serverData.ip_address?[n("svg-icon",{attrs:{"icon-class":"icon_ip"}}),t._v(" "),n("span",[t._v("所属地 "+t._s(t.serverData.ip_address))])]:t._e()],2)]),t._v(" "),t.serverData.is_original||"292484"==t.articalId?n("div",{staticClass:"original-logo"},[n("img",{staticClass:"img",attrs:{src:"https://image.3001.net/images/20240308/1709876354_65eaa4828e91d155430d9.png",alt:""}}),t._v("\n              本文由"),n("span",{staticClass:"span marg",on:{click:function(e){return t.viewPersonalPage(t.dymicData.post_author.username)}}},[t._v(t._s("\n                "+t.dymicData.post_author.username+" "))]),t._v("创作，已纳入"),n("span",{staticClass:"span",on:{click:t.viewPlan}},[t._v("「FreeBuf原创奖励计划」")]),t._v("，未授权禁止转载\n            ")]):t._e()]),t._v(" "),n("div",{staticClass:"artical-body"},[n("div",{staticClass:"payread-panel"},[n("ArticalContent",{attrs:{"render-content":t.serverData.post_content,compkey:t.contentKey,server:t.serverMemuRender},on:{renderCateList:t.assignCateList}}),t._v(" "),t.dymicData.is_report?n("div",{staticClass:"other-panel award"},[n("div",{staticClass:"award download"},["1"==t.dymicData.is_report.fee_type?n("div",[n("span",{staticClass:"span-button",on:{click:t.downloadReport}},[n("a-icon",{attrs:{type:"download"}}),t._v("下载报告")],1),t._v(" "),"1"==t.dymicData.is_report.permit?n("span",{on:{click:t.openPdf}},[t._v("预览报告")]):t._e()]):t._e(),t._v(" "),"2"==t.dymicData.is_report.fee_type?n("div",["1"==t.dymicData.is_report.permit?n("span",{staticClass:"buytype-button",on:{click:t.openPdf}},[t._v("预览报告")]):t._e(),t._v(" "),n("span",{on:{click:t.buyReport}},[t._v("立即购买")])]):t._e(),t._v(" "),"3"==t.dymicData.is_report.fee_type?n("div",["1"==t.dymicData.is_report.permit?n("span",{on:{click:t.openPdf}},[t._v("预览报告")]):t._e(),t._v(" "),n("span",{on:{click:t.downloadReport}},[n("a-icon",{attrs:{type:"download"}}),t._v("下载报告")],1)]):t._e()]),t._v(" "),n("a-modal",{staticClass:"report-panel-modal",attrs:{title:"填写您的信息",footer:null,visible:t.visibleReportModal,"confirm-loading":t.confirmLoading},on:{cancel:t.reportHandleCancel}},[n("a-form",{attrs:{model:t.reportForm,layout:"horizontal","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-form-item",{attrs:{label:"姓名"}},[n("a-input",{attrs:{"max-length":20,placeholder:"请输入您的姓名"},model:{value:t.reportForm.name,callback:function(e){t.$set(t.reportForm,"name",e)},expression:"reportForm.name"}})],1),t._v(" "),n("a-form-item",{attrs:{label:"手机"}},[n("a-input",{attrs:{"max-length":11,type:"tel",placeholder:"请输入您的手机号"},model:{value:t.reportForm.phone,callback:function(e){t.$set(t.reportForm,"phone",e)},expression:"reportForm.phone"}})],1),t._v(" "),n("a-form-item",{attrs:{label:"邮箱"}},[n("a-input",{attrs:{type:"email","max-length":30,placeholder:"请输入您的邮箱"},model:{value:t.reportForm.email,callback:function(e){t.$set(t.reportForm,"email",e)},expression:"reportForm.email"}})],1),t._v(" "),n("a-form-item",{attrs:{label:"公司"}},[n("a-input",{attrs:{"max-length":20,placeholder:"请输入您的公司"},model:{value:t.reportForm.company,callback:function(e){t.$set(t.reportForm,"company",e)},expression:"reportForm.company"}})],1),t._v(" "),n("a-form-item",{attrs:{label:"行业"}},[n("a-input",{attrs:{"max-length":20,placeholder:"请输入您的行业"},model:{value:t.reportForm.trade,callback:function(e){t.$set(t.reportForm,"trade",e)},expression:"reportForm.trade"}})],1),t._v(" "),n("a-form-item",{attrs:{label:"职位"}},[n("a-input",{attrs:{"max-length":20,placeholder:"请输入您的职业"},model:{value:t.reportForm.job,callback:function(e){t.$set(t.reportForm,"job",e)},expression:"reportForm.job"}})],1),t._v(" "),n("div",{staticClass:"button-region"},[n("a-button",{on:{click:t.submitReport}},[t._v("\n                        提交\n                      ")])],1)],1)],1)],1):t._e(),t._v(" "),n("div",{staticClass:"other-panel"},[t.dymicData.job?[n("div",{staticClass:"award download"},[n("span",{on:{click:t.sendProfile}},[n("a-icon",{attrs:{type:"solution"}}),t._v("投递简历\n                    ")],1)]),t._v(" "),n("a-modal",{staticClass:"job-panel-modal",attrs:{title:"系统提示",footer:null,visible:t.visibleJobModal},on:{cancel:t.jobHandleCancel}},[n("div",{staticClass:"panel"},[1===t.jobModalType?n("div",[n("p",[t._v("您的简历尚不完善，完善后成功率更高")]),t._v(" "),n("a-button",{staticClass:"profile edit-profile",on:{click:t.editOrLookProfile}},[t._v("\n                          前往编辑\n                        ")])],1):t._e(),t._v(" "),2===t.jobModalType?n("div",[n("p",[t._v("确认后将发出简历")]),t._v(" "),n("a-button",{staticClass:"profile edit-profile",on:{click:t.sendProfileServer}},[t._v("\n                          确认\n                        ")]),t._v(" "),n("a-button",{staticClass:"profile edit-profile",on:{click:t.editOrLookProfile}},[t._v("\n                          预览\n                        ")])],1):t._e()])])]:t._e(),t._v(" "),t.dymicData.recommend_job.length>0?n("div",{staticClass:"job-panel"},[n("div",{staticClass:"job-wraper"},t._l(t.dymicData.recommend_job,(function(t,e){return n("JobItem",{key:e,attrs:{listdata:t}})})),1),t._v(" "),n("div",{staticClass:"more-job cursor",on:{click:t.jumpForJobHome}},[t._v("\n                    更 多 职 位\n                  ")])]):t._e()],2),t._v(" "),t.dymicData.reward?n("div",{staticClass:"other-panel"},[n("div",{staticClass:"award"},[n("span",{on:{click:t.rewardAuthor}},[n("a-icon",{attrs:{type:"money-collect"}}),t._v("打赏支持\n                  ")],1)]),t._v(" "),t.dymicData.reward.num>0?n("div",{staticClass:"award-list"},[t._l(t.dymicData.reward.pay_list.slice(0,6),(function(t,e){return n("a",{key:e,staticClass:"list",attrs:{href:t.pay_user_url}},[n("img",{attrs:{src:t.pay_user_pic,alt:""}})])})),t._v(" "),n("span",{staticClass:"list ellipsis"},[n("a-icon",{attrs:{type:"ellipsis"}})],1)],2):t._e(),t._v(" "),t.dymicData.reward.num>0?n("div",{staticClass:"award-count"},[t._v("\n                  "+t._s(t.dymicData.reward.num)+"次打赏\n                ")]):n("div",{staticStyle:{height:"32px","line-height":"32px",color:"#666","margin-top":"15px"}},[t._v("\n                  快成为第一个赞赏他的人吧~\n                ")])]):t._e(),t._v(" "),t.dymicData.read_status?t._e():n("div",{staticClass:"payread-mask"},[n("div",{staticClass:"hr"},[n("span",[t._v("可试读前"+t._s(t.dymicData.ratio?100*t.dymicData.ratio:40)+"%内容")])]),t._v(" "),n("div",{staticClass:"pay-read-wrap"},[t.dymicData.paid_read?n("div",{staticClass:"pay-btn",on:{click:t.createPayOrder}},[t._v("\n                    ¥ "+t._s(t.dymicData.paid_read_amount)+" 全文查看\n                  ")]):t._e(),t._v(" "),!t.dymicData.vip_read||t.vipinfoData&&t.vipinfoData.vip?t._e():n("div",{staticClass:"vip-btn",on:{click:t.toBeMember}},[t._v("\n                    9.9元开通FVIP会员"),n("br"),t._v("畅读付费文章\n                    "),n("div",{staticClass:"vip-tag"},[t._v("\n                      最低0.3元/天\n                    ")])]),t._v(" "),t.dymicData.vip_read&&t.vipinfoData&&t.vipinfoData.vip?n("div",{staticClass:"vip-btn vip-vouchers-btn",on:{click:t.useMemberReadingVouchers}},[t.memberReadingCouponTatal?n("div",{staticClass:"vouchers-title"},[t._v("\n                      使用1张付费阅读券\n                    ")]):n("div",{staticClass:"vouchers-title"},[t._v("\n                      开通年卡会员"),n("br"),t._v("畅读FreeBuf文章\n                    ")]),t._v(" "),t.memberReadingCouponTatal?n("div",{staticClass:"vouchers-quantity"},[t._v("\n                      剩余 "+t._s(t.memberReadingCouponTatal)+"张\n                    ")]):t._e()]):t._e()])])],1),t._v(" "),n("div",{staticClass:"tags-panel"},[n("div",t._l(t.serverData.tag,(function(e,a){return n("span",{key:a,staticClass:"tag",on:{click:function(a){return t.jumpForTagAction(e)}}},[t._m(0,!0),t._v(" "),n("span",{staticClass:"txt"},[t._v("# "+t._s(e.name))])])})),0)]),t._v(" "),n("div",{staticClass:"original-user"},[t.serverData.is_original||"292484"==t.articalId?n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-info-top"},[n("img",{attrs:{src:t.dymicData.post_author.user_pic,alt:""},on:{click:function(e){return t.viewPersonalPage(t.dymicData.post_author.username)}}}),t._v(" "),n("div",{staticClass:"info-top-right"},[n("div",{staticClass:"info-name text-line-1",on:{click:function(e){return t.viewPersonalPage(t.dymicData.post_author.username)}}},[t._v(t._s(t.dymicData.post_author.nickname))]),t._v(" "),n("div",{staticClass:"info-desc text-line-1"},[t._v(t._s(t.dymicData.post_author.desc))])])]),t._v(" "),n("div",{staticClass:"user-info-bottom"},[n("img",{attrs:{src:"https://image.3001.net/images/20240308/1709876354_65eaa4828e91d155430d9.png",alt:""}}),t._v("\n                  已在FreeBuf发表"),n("span",{on:{click:function(e){return t.jumpForPersonPanel(0)}}},[t._v(" "+t._s(t.dymicData.post_author.post_num)+" ")]),t._v("篇文章\n                ")])]):t._e(),t._v(" "),n("div",{staticClass:"user-tips"},[t._v("\n                本文为"),n("span",[t._v(" "+t._s(t.dymicData.post_author.nickname)+" ")]),t._v("独立观点，未经允许不得转载，授权请联系FreeBuf客服小蜜蜂，微信：freebee2022\n              ")])])])]),t._v(" "),t.fvipbannerIsDisplayed&&t.dymicData.paid_read?n("div",{staticClass:"fvip-event"},[n("img",{staticClass:"fvip-banner",attrs:{src:"https://image.3001.net/images/20230816/1692179553_64dc9c614d7d47aa79676.png",alt:""},on:{click:t.skipActivePage}}),t._v(" "),n("img",{staticClass:"fvip-close",attrs:{src:"https://image.3001.net/images/20230807/1691399133_64d0b3ddcd2392bed6f07.png",alt:""},on:{click:function(e){t.fvipbannerIsDisplayed=!1}}}),t._v(" "),n("img",{staticClass:"fvip-button",attrs:{src:"https://image.3001.net/images/20230807/1691400821_64d0ba75a573a88576d6c.png",alt:""},on:{click:t.skipActivePage}})]):t._e(),t._v(" "),n("div",{staticClass:"remix-module"},[n("div",{staticClass:"module-title"},[n("div",{staticClass:"title"},[t._v("\n              被以下专辑收录，发现更多精彩内容\n              "),t.dymicData.post_author.username===t.userName?n("span",{staticClass:"manage-column",on:{click:function(e){return t.collectColumn(!0)}}},[n("a-icon",{attrs:{type:"setting"}}),t._v("\n                投稿管理\n              ")],1):t._e()])]),t._v(" "),n("div",{staticClass:"content column-module"},[n("div",{staticClass:"add column-tag",staticStyle:{background:"#F1FFF9"},on:{click:function(e){return t.collectColumn(!1)}}},[t._v("\n              + 收入我的专辑\n            ")]),t._v(" "),t.dymicData.post_author.collect_status?t._e():n("div",{staticClass:"add column-tag",staticStyle:{background:"#F1FFF9"},on:{click:t.collectArtical}},[t._v("\n              + 加入我的收藏\n            ")]),t._v(" "),t._l(t.tempColumnDataList,(function(e){return n("div",{key:e.column_id,staticClass:"column-tag",on:{click:function(a){return t.joinMyColumn(e)}}},[n("span",{staticClass:"img"},[n("img",{attrs:{src:e.column_image_url,alt:""}})]),t._v(" "),n("span",{staticClass:"text"},[t._v("\n                "+t._s(e.column_name)+"\n              ")])])})),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.slideForMoreBtn,expression:"slideForMoreBtn"}],ref:"slideMoreColumn",staticClass:"add column-tag",on:{click:t.slideForMore}},[n("span",[t._v(t._s(t.slideMoreColumn?"点击收缩":"展开更多"))]),t._v(" "),t.slideMoreColumn?n("span",{staticClass:"arrow"},[n("a-icon",{attrs:{type:"up"}})],1):n("span",{staticClass:"arrow"},[n("a-icon",{attrs:{type:"down"}})],1)])],2)]),t._v(" "),n("div",{staticClass:"introduce"},[t._m(1),t._v(" "),n("div",{staticClass:"intro-list"},t._l(t.recommendData,(function(t,e){return n("article-item",{key:e,attrs:{datas:t}})})),1)])],1),t._v(" "),n("div",{staticClass:"aside-right"},[n("div",{staticClass:"module-top"},[n("div",{staticClass:"author-panel"},[n("div",{staticClass:"top-panel"},[n("div",{staticClass:"avatar"},[n("span",{on:{click:function(e){return t.jumpToPersonal(t.dymicData.post_author.user_url)}}},[n("img",{attrs:{src:t.dymicData.post_author.user_pic}})])]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"name-info"},[n("span",{staticClass:"name",on:{click:function(e){return t.jumpToPersonal(t.dymicData.post_author.user_url)}}},[t._v(t._s(t.dymicData.post_author.nickname))]),t._v(" "),t.dymicData.post_author.vip?n("span",{staticClass:"is_vip"},[n("img",{attrs:{src:a(668)}})]):t._e(),t._v(" "),"company"==t.dymicData.post_author.author_role?n("span",{staticClass:"sign"},[n("svg-icon",{attrs:{"icon-class":"company"}})],1):t._e(),t._v(" "),t.dymicData.post_author.user_level>0?n("span",{staticClass:"level"},[t._v("LV."+t._s(t.dymicData.post_author.user_level))]):t._e()]),t._v(" "),n("div",{staticClass:"desc text-line-3"},[t._v("\n                  "+t._s(t.dymicData.post_author.desc)+"\n                ")]),t._v(" "),n("p",{staticClass:"follow-view"},[n("a-button",{staticClass:"focus",class:t.dymicData.post_author.follow_status?"isFocus":"",staticStyle:{"margin-top":"20px",width:"132px"},attrs:{type:"colorBorder"},on:{mouseenter:function(e){return t.focusTextChange(1,e)},mouseleave:function(e){return t.focusTextChange(0,e)},click:function(e){return t.focusAction(t.dymicData.post_author.follow_status,e)}}},[t._v("\n                    "+t._s(t.dymicData.post_author.follow_status?"已关注":"关注")+"\n                  ")])],1)])]),t._v(" "),n("ul",{staticClass:"number-panel"},[n("li",{staticClass:"item",on:{click:function(e){return t.jumpForPersonPanel(0)}}},[n("span",{staticClass:"num"},[t._v(t._s(t.dymicData.post_author.post_num))]),t._v(" "),n("span",[t._v("文章数")])]),t._v(" "),n("li",{staticClass:"item",on:{click:function(e){return t.jumpForPersonPanel(2)}}},[n("span",{staticClass:"num"},[t._v(t._s(t.dymicData.post_author.follow_num))]),t._v(" "),n("span",[t._v("关注者")])])])]),t._v(" "),t.dymicData.post_author.post_list&&t.dymicData.post_author.post_list.length>0?n("div",{staticClass:"artical-panel"},t._l(t.dymicData.post_author.post_list.slice(0,3),(function(e,a){return n("div",{key:a,staticClass:"list",on:{click:function(a){return t.jumpArticalDetail(e)}}},[n("div",{staticClass:"status"},[n("a-badge",{attrs:{status:"success"}})],1),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(e.post_title)}}),t._v(" "),n("div",{staticClass:"extral"},[n("span",{staticClass:"date"},[t._v(t._s(e.post_date))])])])])})),0):t._e(),t._v(" "),t.dymicData.post_author.post_list&&t.dymicData.post_author.post_list.length>=3?n("div",{staticClass:"follow-view"},[n("a-button",{staticStyle:{width:"132px","margin-top":"10px"},attrs:{type:"colorBorder"},on:{click:function(e){return t.jumpForPersonPanel(0)}}},[t._v("\n              浏览更多\n            ")])],1):t._e()]),t._v(" "),n("div",{staticClass:"module-middle"},t._l(t.adListData,(function(e,a){return n("div",{key:a,staticClass:"add-panel",style:"background-image:url("+e.pic+")",on:{click:function(a){return t.jumpForAdvertisement(e)}}},[n("span",{staticClass:"add-text"},[t._v("广告")])])})),0),t._v(" "),t.articalMenuData.dataList.length>0?n("div",{staticClass:"module-container"},[n("div",{class:["module-bottom",t.fixedDocument?"fixed-document":""]},[n("div",{staticClass:"h-title"},[t._v("\n              文章目录\n            ")]),t._v(" "),n("div",{staticClass:"menu-panel scroll-view"},t._l(t.articalMenuData.dataList,(function(e){return n("div",{key:e.id,staticClass:"list-name"},[e.name?n("div",{staticClass:"name",attrs:{"data-id":e.id},on:{click:function(a){return t.articalScroll("h1",e.id)}}},[n("span",[t._v(t._s(e.name))])]):t._e(),t._v(" "),e.child?n("div",{staticClass:"list-panel"},[n("div",{staticClass:"line"}),t._v(" "),n("ul",t._l(e.child,(function(e){return n("li",{key:e.id,class:e.id==t.articalMenuData.currId?"active":"",attrs:{"data-id":e.id},on:{click:function(a){return t.articalScroll("h2",e.id)}}},[n("span",[t._v(t._s(e.name))])])})),0)]):t._e()])})),0)])]):t._e()])]),t._v(" "),n("a-modal",{staticClass:"report-panel-modal",attrs:{title:null,footer:null,visible:t.visibleRewardModal},on:{cancel:t.rewardHandleCancel}},["type1"===t.rewardType?n("div",[n("div",{staticClass:"avatar"},[n("a",{staticClass:"img",attrs:{href:t.dymicData.post_author.user_url}},[n("img",{attrs:{src:t.dymicData.post_author.user_pic}})])]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          点赞是美意，打赏是鼓励\n        ")]),t._v(" "),n("div",{staticClass:"reward-input"},[n("span",{staticClass:"dollar"},[t._v("￥")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.rewardNumber,expression:"rewardNumber"}],staticClass:"input",attrs:{type:"text",placeholder:"点击生成随机金额"},domProps:{value:t.rewardNumber},on:{input:function(e){e.target.composing||(t.rewardNumber=e.target.value)}}}),t._v(" "),n("span",{staticClass:"random cursor",on:{click:t.randomReward}},[t._v("随机金额")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.rewardWarn,expression:"rewardWarn"}],staticClass:"warn"},[t._v("\n          请输入1-20之间的打赏金额\n        ")]),t._v(" "),n("div",{staticClass:"button-region"},[n("a-button",{on:{click:t.submitReward}},[t._v("\n            确认支付\n          ")])],1)]):t._e(),t._v(" "),"type2"===t.rewardType?n("div",[n("div",{staticClass:"reward-img"},[n("img",{attrs:{src:"/images/reward.png"}})]),t._v(" "),n("div",{staticClass:"reward-info"},[n("span",[t._v("打赏成功")]),t._v(" "),n("p",[t._v("跟大家一起分享这篇超赞的文章吧")])]),t._v(" "),n("div",{staticClass:"button-region reward-result"},[n("div",{staticClass:"reward-span"},[n("a-popover",{attrs:{placement:"top"}},[n("template",{slot:"content"},[n("img",{staticStyle:{display:"inline-block",width:"76px",height:"76px",vertical:"top"},attrs:{src:t.wechatImg}})]),t._v(" "),n("span",[n("a-icon",{attrs:{type:"wechat"}})],1)],2),t._v(" "),n("span",{on:{click:function(e){return t.shareAction("weibo")}}},[n("a-icon",{attrs:{type:"weibo-circle"}})],1),t._v(" "),n("span",{on:{click:function(e){return t.shareAction("qq")}}},[n("a-icon",{attrs:{type:"qq"}})],1)],1)])]):t._e()]),t._v(" "),n("a-modal",{staticClass:"bind-phone-modal",attrs:{title:"提示",footer:null,visible:t.showBindTelphone},on:{cancel:function(e){t.showBindTelphone=!1}}},[n("div",{staticClass:"bind-phone-wrapper"},[n("div",[t._v("\n          根据我国\n          "),n("a",{attrs:{href:"http://www.cac.gov.cn/2017-08/25/c_1121541842.htm"}},[t._v("《互联网跟帖评论服务管理规定》")]),t._v("\n          ，您需要绑定手机号后才可在FreeBuf发布内容哦~\n        ")]),t._v(" "),n("div",{staticClass:"btn-region"},[n("a-button",{on:{click:t.bindPhoneNumber}},[t._v("\n            前往绑定\n          ")])],1)])]),t._v(" "),n("a-modal",{staticClass:"bind-payment-modal",attrs:{header:null,footer:null,width:"480px",keyboard:!1,"mask-closable":!1,visible:t.showPayModal},on:{cancel:t.cancelPayment}},[n("payment-modal",{on:{payFinishResult:t.cancelPayment}})],1),t._v(" "),n("column-modal",{attrs:{parentdata:t.columnModalData,modalvisible:t.collectColumnModal},on:{closeColumnModal:t.updateColumnData}}),t._v(" "),n("report-modal",{attrs:{visible:t.visible}}),t._v(" "),n("a-modal",{staticClass:"payread-wrap-modal",attrs:{header:null,footer:null,width:"560px",keyboard:!1,"mask-closable":!1,visible:t.payreadModal},on:{cancel:function(e){t.payreadModal=!1}}},[t.payreadModal?n("payread-mask",{attrs:{code:t.orderCodeId}}):t._e()],1),t._v(" "),t.applyModalVal>0?n("applyPay-modal",{attrs:{type:t.applyModalVal}}):t._e(),t._v(" "),n("a-modal",{attrs:{title:"提示",visible:t.tipVisible,header:null,footer:null,width:"400px","dialog-class":"modal-tip-wrapper"},on:{cancel:t.handleTipCancel}},[n("div",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.modalTipText,expression:"modalTipText"}],staticClass:"tip-content"}),t._v(" "),n("div",{staticClass:"tip-btn"},[n("a-button",{attrs:{type:"primary"},on:{click:t.handleTipCancel}},[t._v("\n          知道了\n        ")])],1)]),t._v(" "),n("useFvipRead",{ref:"useFvipReadRefs",attrs:{articalId:t.articalId},on:{updateData:t.updateData}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"spot"},[e("i",{staticClass:"pot"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module-title"},[e("div",{staticClass:"title"},[this._v("\n              相关推荐\n            ")])])}],!1,null,"7868286e",null));e.default=P.exports}}]);